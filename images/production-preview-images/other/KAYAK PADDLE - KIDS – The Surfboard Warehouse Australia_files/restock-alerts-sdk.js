(()=>{var e={669:(e,t,n)=>{e.exports=n(609)},448:(e,t,n)=>{"use strict";var r=n(867),o=n(26),i=n(372),c=n(327),u=n(97),a=n(109),l=n(985),s=n(61);e.exports=function(e){return new Promise((function(t,n){var d=e.data,p=e.headers;r.isFormData(d)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(_+":"+h)}var v=u(e.baseURL,e.url);if(f.open(e.method.toUpperCase(),c(v,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};o(t,n,i),f=null}},f.onabort=function(){f&&(n(s("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(s("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(s(t,e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var y=(e.withCredentials||l(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in f&&r.forEach(p,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:f.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),n(e),f=null)})),d||(d=null),f.send(d)}))}},609:(e,t,n)=>{"use strict";var r=n(867),o=n(849),i=n(321),c=n(185);function u(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var a=u(n(655));a.Axios=i,a.create=function(e){return u(c(a.defaults,e))},a.Cancel=n(263),a.CancelToken=n(972),a.isCancel=n(502),a.all=function(e){return Promise.all(e)},a.spread=n(713),a.isAxiosError=n(268),e.exports=a,e.exports.default=a},263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},972:(e,t,n)=>{"use strict";var r=n(263);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(867),o=n(327),i=n(782),c=n(572),u=n(185);function a(e){this.defaults=e,this.interceptors={request:new i,response:new i}}a.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=u(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[c,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},a.prototype.getUri=function(e){return e=u(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){a.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){a.prototype[e]=function(t,n,r){return this.request(u(r||{},{method:e,url:t,data:n}))}})),e.exports=a},782:(e,t,n)=>{"use strict";var r=n(867);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},97:(e,t,n)=>{"use strict";var r=n(793),o=n(303);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},61:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,o,i){var c=new Error(e);return r(c,t,n,o,i)}},572:(e,t,n)=>{"use strict";var r=n(867),o=n(527),i=n(502),c=n(655);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||c.adapter)(e).then((function(t){return u(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},185:(e,t,n)=>{"use strict";var r=n(867);e.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],c=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],u=["validateStatus"];function a(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=a(void 0,e[o])):n[o]=a(e[o],t[o])}r.forEach(o,(function(e){r.isUndefined(t[e])||(n[e]=a(void 0,t[e]))})),r.forEach(i,l),r.forEach(c,(function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=a(void 0,e[o])):n[o]=a(void 0,t[o])})),r.forEach(u,(function(r){r in t?n[r]=a(e[r],t[r]):r in e&&(n[r]=a(void 0,e[r]))}));var s=o.concat(i).concat(c).concat(u),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===s.indexOf(e)}));return r.forEach(d,l),n}},26:(e,t,n)=>{"use strict";var r=n(61);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},527:(e,t,n)=>{"use strict";var r=n(867);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},655:(e,t,n)=>{"use strict";var r=n(867),o=n(16),i={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,a={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(448)),u),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(c(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){a.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){a.headers[e]=r.merge(i)})),e.exports=a},849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},327:(e,t,n)=>{"use strict";var r=n(867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var c=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),c.push(o(t)+"="+o(e))})))})),i=c.join("&")}if(i){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},372:(e,t,n)=>{"use strict";var r=n(867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,c){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===c&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},985:(e,t,n)=>{"use strict";var r=n(867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16:(e,t,n)=>{"use strict";var r=n(867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},109:(e,t,n)=>{"use strict";var r=n(867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,c={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(c[t]&&o.indexOf(t)>=0)return;c[t]="set-cookie"===t?(c[t]?c[t]:[]).concat([n]):c[t]?c[t]+", "+n:n}})),c):c}},713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},867:(e,t,n)=>{"use strict";var r=n(849),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function c(e){return void 0===e}function u(e){return null!==e&&"object"==typeof e}function a(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function s(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:a,isUndefined:c,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:s,merge:function e(){var t={};function n(n,r){a(t[r])&&a(n)?t[r]=e(t[r],n):a(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return t},extend:function(e,t,n){return s(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r);var e,t,o,i,c,u,a={},l=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(e,t){for(var n in t)e[n]=t[n];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function f(t,n,r){var o,i,c,u={};for(c in n)"key"==c?o=n[c]:"ref"==c?i=n[c]:u[c]=n[c];if(arguments.length>2&&(u.children=arguments.length>3?e.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(c in t.defaultProps)void 0===u[c]&&(u[c]=t.defaultProps[c]);return _(t,u,o,i,null)}function _(e,n,r,i,c){var u={type:e,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==c?++o:c};return null==c&&null!=t.vnode&&t.vnode(u),u}function h(e){return e.children}function v(e,t){this.props=e,this.context=t}function y(e,t){if(null==t)return e.__?y(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?y(e):null}function m(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return m(e)}}function g(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!b.__r++||c!==t.debounceRendering)&&((c=t.debounceRendering)||setTimeout)(b)}function b(){for(var e;b.__r=i.length;)e=i.sort((function(e,t){return e.__v.__b-t.__v.__b})),i=[],e.some((function(e){var t,n,r,o,i,c;e.__d&&(i=(o=(t=e).__v).__e,(c=t.__P)&&(n=[],(r=d({},o)).__v=o.__v+1,N(c,o,r,t.__n,void 0!==c.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?y(o):i,o.__h),A(n,o),o.__e!=i&&m(o)))}))}function w(e,t,n,r,o,i,c,u,s,d){var p,f,v,m,g,b,w,P=r&&r.__k||l,O=P.length;for(n.__k=[],p=0;p<t.length;p++)if(null!=(m=n.__k[p]=null==(m=t[p])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?_(null,m,null,null,m):Array.isArray(m)?_(h,{children:m},null,null,null):m.__b>0?_(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)){if(m.__=n,m.__b=n.__b+1,null===(v=P[p])||v&&m.key==v.key&&m.type===v.type)P[p]=void 0;else for(f=0;f<O;f++){if((v=P[f])&&m.key==v.key&&m.type===v.type){P[f]=void 0;break}v=null}N(e,m,v=v||a,o,i,c,u,s,d),g=m.__e,(f=m.ref)&&v.ref!=f&&(w||(w=[]),v.ref&&w.push(v.ref,null,m),w.push(f,m.__c||g,m)),null!=g?(null==b&&(b=g),"function"==typeof m.type&&m.__k===v.__k?m.__d=s=C(m,s,e):s=S(e,m,v,P,g,s),"function"==typeof n.type&&(n.__d=s)):s&&v.__e==s&&s.parentNode!=e&&(s=y(v))}for(n.__e=b,p=O;p--;)null!=P[p]&&R(P[p],P[p]);if(w)for(p=0;p<w.length;p++)L(w[p],w[++p],w[++p])}function C(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?C(r,t,n):S(n,r,r,o,r.__e,t));return t}function P(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){P(e,t)})):t.push(e)),t}function S(e,t,n,r,o,i){var c,u,a;if(void 0!==t.__d)c=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),c=null;else{for(u=i,a=0;(u=u.nextSibling)&&a<r.length;a+=2)if(u==o)break e;e.insertBefore(o,i),c=i}return void 0!==c?c:o.nextSibling}function O(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||s.test(t)?n:n+"px"}function k(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||O(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||O(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?T:E,i):e.removeEventListener(t,i?T:E,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function E(e){this.l[e.type+!1](t.event?t.event(e):e)}function T(e){this.l[e.type+!0](t.event?t.event(e):e)}function N(e,n,r,o,i,c,u,a,l){var s,p,f,_,y,m,g,b,C,P,S,O,k,E,T,N=n.type;if(void 0!==n.constructor)return null;null!=r.__h&&(l=r.__h,a=n.__e=r.__e,n.__h=null,c=[a]),(s=t.__b)&&s(n);try{e:if("function"==typeof N){if(b=n.props,C=(s=N.contextType)&&o[s.__c],P=s?C?C.props.value:s.__:o,r.__c?g=(p=n.__c=r.__c).__=p.__E:("prototype"in N&&N.prototype.render?n.__c=p=new N(b,P):(n.__c=p=new v(b,P),p.constructor=N,p.render=B),C&&C.sub(p),p.props=b,p.state||(p.state={}),p.context=P,p.__n=o,f=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=N.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=d({},p.__s)),d(p.__s,N.getDerivedStateFromProps(b,p.__s))),_=p.props,y=p.state,f)null==N.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==N.getDerivedStateFromProps&&b!==_&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(b,P),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(b,p.__s,P)||n.__v===r.__v){for(p.props=b,p.state=p.__s,n.__v!==r.__v&&(p.__d=!1),p.__v=n,n.__e=r.__e,n.__k=r.__k,n.__k.forEach((function(e){e&&(e.__=n)})),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&u.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(b,p.__s,P),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(_,y,m)}))}if(p.context=P,p.props=b,p.__v=n,p.__P=e,O=t.__r,k=0,"prototype"in N&&N.prototype.render){for(p.state=p.__s,p.__d=!1,O&&O(n),s=p.render(p.props,p.state,p.context),E=0;E<p._sb.length;E++)p.__h.push(p._sb[E]);p._sb=[]}else do{p.__d=!1,O&&O(n),s=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++k<25);p.state=p.__s,null!=p.getChildContext&&(o=d(d({},o),p.getChildContext())),f||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(_,y)),T=null!=s&&s.type===h&&null==s.key?s.props.children:s,w(e,Array.isArray(T)?T:[T],n,r,o,i,c,u,a,l),p.base=n.__e,n.__h=null,p.__h.length&&u.push(p),g&&(p.__E=p.__=null),p.__e=!1}else null==c&&n.__v===r.__v?(n.__k=r.__k,n.__e=r.__e):n.__e=x(r.__e,n,r,o,i,c,u,l);(s=t.diffed)&&s(n)}catch(e){n.__v=null,(l||null!=c)&&(n.__e=a,n.__h=!!l,c[c.indexOf(a)]=null),t.__e(e,n,r)}}function A(e,n){t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function x(t,n,r,o,i,c,u,l){var s,d,f,_=r.props,h=n.props,v=n.type,m=0;if("svg"===v&&(i=!0),null!=c)for(;m<c.length;m++)if((s=c[m])&&"setAttribute"in s==!!v&&(v?s.localName===v:3===s.nodeType)){t=s,c[m]=null;break}if(null==t){if(null===v)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,h.is&&h),c=null,l=!1}if(null===v)_===h||l&&t.data===h||(t.data=h);else{if(c=c&&e.call(t.childNodes),d=(_=r.props||a).dangerouslySetInnerHTML,f=h.dangerouslySetInnerHTML,!l){if(null!=c)for(_={},m=0;m<t.attributes.length;m++)_[t.attributes[m].name]=t.attributes[m].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||k(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||k(e,i,t[i],n[i],r)}(t,h,_,i,l),f)n.__k=[];else if(m=n.props.children,w(t,Array.isArray(m)?m:[m],n,r,o,i&&"foreignObject"!==v,c,u,c?c[0]:r.__k&&y(r,0),l),null!=c)for(m=c.length;m--;)null!=c[m]&&p(c[m]);l||("value"in h&&void 0!==(m=h.value)&&(m!==t.value||"progress"===v&&!m||"option"===v&&m!==_.value)&&k(t,"value",m,_.value,!1),"checked"in h&&void 0!==(m=h.checked)&&m!==t.checked&&k(t,"checked",m,_.checked,!1))}return t}function L(e,n,r){try{"function"==typeof e?e(n):e.current=n}catch(e){t.__e(e,r)}}function R(e,n,r){var o,i;if(t.unmount&&t.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||L(o,null,n)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){t.__e(e,n)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&R(o[i],n,r||"function"!=typeof e.type);r||null==e.__e||p(e.__e),e.__=e.__e=e.__d=void 0}function B(e,t,n){return this.constructor(e,n)}function I(n,r,o){var i,c,u;t.__&&t.__(n,r),c=(i="function"==typeof o)?null:o&&o.__k||r.__k,u=[],N(r,n=(!i&&o||r).__k=f(h,null,[n]),c||a,a,void 0!==r.ownerSVGElement,!i&&o?[o]:c?null:r.firstChild?e.call(r.childNodes):null,u,!i&&o?o:c?c.__e:r.firstChild,i),A(u,n)}function j(e,t){var n={__c:t="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(g)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}e=l.slice,t={__e:function(e,t,n,r){for(var o,i,c;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),c=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),c=o.__d),c)return o.__E=o}catch(t){e=t}throw e}},o=0,v.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof e&&(e=e(d({},n),this.props)),e&&d(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),g(this))},v.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),g(this))},v.prototype.render=h,i=[],b.__r=0,u=0;var U,D,q=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};!function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR"}(D||(D={}));var M,F=((U={})[D.DEBUG]="#0cd4a7",U[D.INFO]="#6464f4",U[D.WARN]="#ffc107",U[D.ERROR]="#dc3545",U),V=new(function(){function e(){this.isEnabled=!1}return e.prototype.enableLogs=function(){this.appName="Notify Me!",this.isEnabled=!0},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.log(D.DEBUG,e,t)},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.log(D.INFO,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.log(D.WARN,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.log(D.ERROR,e,t)},e.prototype.log=function(e,t,n){if(void 0===n&&(n=[]),this.isEnabled){var r="color:".concat(F[e],";font-weight:500;font-size:12px");console.log.apply(console,q(["%c[".concat(this.appName,"]"),r,t],n,!1))}},e}()),H=n(669),W=n.n(H),G="https://api-restock.hengam.io",z="https://cdn.hengam.io/restock",$="https://notify-me.io/?utm_source=SDK&utm_medium=watermark&utm_campaign=",J="".concat(z,"/countries.json"),Y="restock-alerts",Z={name:"United States",dial_code:"+1",code:"US"},X=[".pagefly-restock-integration",".gempages-notify-me-integration"],K=['form[action*="/cart/add"]',".shopify-product-form",".product-form",".product-form-inline-atc",".add-to-cart",".add-cart-wrapper",".product-unavailable",".product-out-of-stock",".sold_out",".sold-out__container",".shop-button-soldout",".modal_price",".purchase",".purchase-section",".product__price",".product-price",".product-add",".action-button",".product-information-buttons",".Shopify-product-details__short-description",".product-single__add-to-cart",".product-single__price-product-template",".product-single__quantity",".product-detail__form",".product-single__meta",".product-single__incoming",".product-single__policies",".product_meta"],Q="hengam-preorder-button",ee=['form[action*="/cart/add"]',".product-form-inline-atc",".shopify-product-form",".product-form",".add-cart-wrapper",".product-add",".action-button",".product-single__add-to-cart",".product-detail__form"].reduce((function(e,t){return e.push("".concat(t,' button[type="submit"]')),e.push("".concat(t,' input[type="submit"]')),e}),[]),te=[".price__container",".product__price",".price",".price-item"],ne=["btn","button","Button","button-primary","Button-primary","button--primary","Button--primary"],re=["quick-view-button","modal-opener .quick-add__submit","product-quick-add",".productitem--action-qs",".boost-pfs-quickview-btn",".cc-quick-buy-btn",".button--quick-shop",".sca-qv-button",".quick-view-btn",".bc-quickview-btn-wrapper",".sca-qv-cartbtn",".js-quick-shop-link",".searchit-quick-view-button",".quick-view",".js-quickbuy-button",".quick-product__btn",".product-card-interaction-quickshop",".product-modal",".productitem--action button","a.quickview",".has-quick-view .btn .v-b",".shop-now-button",".quick-buy",".quick_shop","a[data-action='show-product']",".trigger-quick-view",".quickview-button",".quick_view",".qview-button",".quick-shop",".fancybox.ajax",".quick-add-button-variants",".product-thumbnail__quickshop-button",".js-quickView-button",".satcb_quick_view",".js-btn-quickview",".quickbuy-toggle",".collection__page-product button",".button-quick-view",".show-product-quickview",".open-quick-view"],oe=["quick-add-modal","quick-view-modal",'div[role="dialog"]',".quickview__content",".quick-view-modal__content",".quickshop-content",".quickbuy-container",".modal--quickview",".modal--quickshop-full",".modal--quickshop-slim"],ie=["id","id[]","variantId","variant","variant_id","variant-id"],ce=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}a((r=r.apply(e,t||[])).next())}))},ue=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){c.label=u[1];break}if(6===u[0]&&c.label<o[1]){c.label=o[1],o=u;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(u);break}o[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},ae=function(){function e(){this.axios=W().create(),this.axios.defaults.timeout=9e4,this.axios.defaults.headers["Content-Type"]="application/json"}return e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ce(this,void 0,void 0,(function(){var t;return ue(this,(function(n){return[2,(t=this.axios).get.apply(t,e).catch((function(e){return Promise.reject(e)}))]}))}))},e.prototype.post=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ce(this,void 0,void 0,(function(){var t;return ue(this,(function(n){return[2,(t=this.axios).post.apply(t,e).catch((function(e){return Promise.reject(e)}))]}))}))},e.prototype.getShopConfig=function(e){return"A"===this.assignABTestGroup(e)?this.get("".concat(G,"/account/settings/sdk-config/").concat(e)):this.get("".concat("https://sdk-restock.hengam.io","/config/").concat(e))},e.prototype.subscribeToProduct=function(e){return this.post("".concat(G,"/subscription/"),e)},e.prototype.assignABTestGroup=function(e){return this.hashDomain(e)%3==0?"B":"A"},e.prototype.hashDomain=function(e){for(var t=5381,n=0;n<e.length;n++)t=(t<<5)+t+e.charCodeAt(n)>>>0;return t},e}(),le=new ae;function se(){return"Shopify"in window?window.Shopify:null}!function(e){e.PRODUCT="PRODUCT_PAGE",e.COLLECTION="COLLECTION_PAGE",e.LANDING="LANDING_PAGES"}(M||(M={}));var de=function(){function e(){}return e.getLastSegmentOfUrl=function(e){return e?e.split("?")[0].split("/").pop().split("#")[0]:""},e.isDevelopmentMode=window.location.host.includes("localhost:9000"),e.getCurrentUrl=function(){return window.location.href},e.testUrlRegex=function(t){var n=e.getCurrentUrl();return Boolean(n&&t.test(n))},e.isProductPage=function(){var t;return e.testUrlRegex(/.+\/products\/.+/)||"product"===(null===(t=window._ReStockConfig)||void 0===t?void 0:t.templateName)},e.isCollectionPage=function(){var t,n,r,o;return e.testUrlRegex(/.+\/collections\/.*/)||e.testUrlRegex(/.+\/search/)||e.testUrlRegex(/.+\/pages\/.*/)||"collection"===(null===(t=window._ReStockConfig)||void 0===t?void 0:t.templateName)||"list-collections"===(null===(n=window._ReStockConfig)||void 0===n?void 0:n.templateName)||"search"===(null===(r=window._ReStockConfig)||void 0===r?void 0:r.templateName)||"page"===(null===(o=window._ReStockConfig)||void 0===o?void 0:o.templateName)},e.isHomePage=function(){var t,n=e.getCurrentUrl().split("?")[0];return"index"===(null===(t=window._ReStockConfig)||void 0===t?void 0:t.templateName)||n&&e.getBaseURL()===n.replace(/\/+$/,"")},e.getBaseURL=function(){if(e.isDevelopmentMode)return"https://".concat(e.getShopDomain());var t=e.getCurrentUrl().match(/^((?:https?:\/\/)?[\w\.\-]+)\/?.*$/);return t?t[1]:null},e.getQueryParameter=function(e,t){try{if(!t)return"";e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}catch(e){return null}},e.getShopDomain=function(){var t,n;return e.isDevelopmentMode?null===(t=se())||void 0===t?void 0:t.shop:(null===(n=se())||void 0===n?void 0:n.shop)||window.location.host},e}();const pe=de;var fe,_e,he=function(){var e,t,n=document.documentElement.lang;return n||(null!==(t=null===(e=se())||void 0===e?void 0:e.locale)&&void 0!==t?t:null)},ve=function(){switch(!0){case pe.isProductPage():return M.PRODUCT;case pe.isHomePage():return M.LANDING;case pe.isCollectionPage():return M.COLLECTION;default:return"UNKNOWN"}};!function(e){e.DEFAULT="default",e.DENIED="denied",e.GRANTED="granted"}(fe||(fe={})),function(e){e.PUSHOWL="PUSHOWL"}(_e||(_e={}));var ye=function(){function e(){}return e.isSupported=function(){return"localStorage"in window||(V.warn("LOCALSTORAGE IS NOT SUPPORTED"),!1)},e.get=function(t){var n;if(e.isSupported())return null!==(n=localStorage[t])&&void 0!==n?n:null},e.set=function(t,n){e.isSupported()&&localStorage.setItem(t,n)},e}();const me=ye;var ge,be,we=new(function(){function e(){}return e.prototype.isSupportedByBrowser=function(){var e="Notification"in window&&"serviceWorker"in window.navigator;return e||console.log("THIS BROWSER DO NOT SUPPORT PUSH NOTIFICATIONS"),e},e.prototype.requestPermission=function(e){if(this.isSupportedByBrowser()&&this.hasPushOwlInstalled()){var t=function(t){e(t),t===fe.GRANTED&&window.pushowl.showBrowserPrompt()};this.isPromiseBasedRequestSupported()?Notification.requestPermission().then(t):Notification.requestPermission(t)}},e.prototype.isPromiseBasedRequestSupported=function(){try{Notification.requestPermission().then()}catch(e){return!1}return!0},e.prototype.isPermissionGranted=function(){return Notification.permission===fe.GRANTED},e.prototype.isPermissionDenied=function(){return Notification.permission===fe.DENIED},e.prototype.getPushOwlToken=function(){return me.get("pushowl_subscriber_token")},e.prototype.hasPushOwlInstalled=function(){return"pushowl"in window&&!!me.get("pushowl_visitor_token")},e.prototype.getPushToken=function(){return this.hasPushOwlInstalled()?this.getPushOwlToken():null},e.prototype.getPushProvider=function(){return this.hasPushOwlInstalled()?_e.PUSHOWL:null},e}()),Ce=function(){return Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ce.apply(this,arguments)},Pe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}a((r=r.apply(e,t||[])).next())}))},Se=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){c.label=u[1];break}if(6===u[0]&&c.label<o[1]){c.label=o[1],o=u;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(u);break}o[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},Oe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ke=function(){function e(){}return e.prototype.initialize=function(){return Pe(this,void 0,void 0,(function(){var e;return Se(this,(function(t){switch(t.label){case 0:return e=this,[4,this.fetchShopConfig()];case 1:return e.shopConfig=t.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"config",{get:function(){return{app_enabled:this.shopConfig.app_enabled,default_language:this.shopConfig.default_language,developer_mode_variant_listener:this.shopConfig.developer_mode_variant_listener,disable_branding_permission:this.shopConfig.disable_branding_permission,shop_id:this.shopConfig.shop_id,product:this.shopConfig.product,customerCurrentLocationId:this.shopConfig.currentLocationId,isB2BCustomer:!!this.shopConfig.isB2BCustomer,global_raw_css:this.shopConfig.ui_style.global_raw_css,product_page_raw_css:this.shopConfig.ui_style.product_page_raw_css,app_branding_enabled:this.shopConfig.ui_style.product_page_notify_me_style.app_branding_enabled,custom_variant_listener:this.shopConfig.ui_style.product_page_notify_me_style.custom_variant_listener}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lowStock",{get:function(){return{isServiceActive:this.shopConfig.low_stock.is_service_active,excludedVariants:this.shopConfig.low_stock.excluded_variants,settings:this.shopConfig.low_stock.widget_settings,product_page:this.lowStockProductPageConfig}},enumerable:!1,configurable:!0}),e.prototype.selectLowStockProperLanguage=function(e){return e[he()]||e.en||Object.values(e)[0]},Object.defineProperty(e.prototype,"lowStockProductPageConfig",{get:function(){var e=this.shopConfig.low_stock.product_page;return Ce(Ce({},e),{ui_contents:this.selectLowStockProperLanguage(e.ui_contents)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"preOrder",{get:function(){return{isServiceActive:this.shopConfig.pre_order.is_service_active,limit_reached:this.shopConfig.pre_order.limit_reached,selling_plan:this.shopConfig.pre_order.selling_plan,variant_ids:this.shopConfig.pre_order.variant_ids,product_page:this.preOrderProductPageConfig,collection_page:this.preOrderCollectionPageConfig,quickViewSectionAddToCartButtonSelector:this.quickViewSectionAddToCartButtonSelector,overrideCartRequests:this.shopConfig.pre_order.override_cart_requests,excludedProductsInB2B:this.shopConfig.pre_order.excluded_catalogs_products,excludedLocationsInB2B:this.shopConfig.pre_order.excluded_company_locations}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickViewSectionAddToCartButtonSelector",{get:function(){return Object.values(this.shopConfig.pre_order.collection_page.elements_selectors.quick_view_section_add_to_cart_button).some((function(e){return!!e}))?this.shopConfig.pre_order.collection_page.elements_selectors.quick_view_section_add_to_cart_button:this.shopConfig.pre_order.product_page.elements_selectors.button},enumerable:!1,configurable:!0}),e.prototype.selectPreOrderProperLanguage=function(e){return e[he()]||e.en||Object.values(e)[0]},Object.defineProperty(e.prototype,"preOrderProductPageConfig",{get:function(){var e=this.shopConfig.pre_order.product_page;return Ce(Ce({},e),{ui_contents:this.selectPreOrderProperLanguage(e.ui_contents)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"preOrderCollectionPageConfig",{get:function(){var e=pe.isHomePage()?this.shopConfig.pre_order.landing_page:this.shopConfig.pre_order.collection_page;return Ce(Ce({},e),{ui_contents:this.selectPreOrderProperLanguage(e.ui_contents)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restock",{get:function(){var e,t,n;return{isFieldVisible:this.formFieldsVisibilityMap,isServiceActive:this.shopConfig.is_back_in_stock_active,not_selectable_variants_enabled:this.shopConfig.not_selectable_variants_enabled,subscription_limit_reached:this.shopConfig.subscription_limit_reached,uiContents:this.restockContents,ui_style:this.shopConfig.ui_style,pre_order_products_enabled:this.shopConfig.pre_order_products_enabled,disable_button:this.shopConfig.disable_button,showWidgetForProductWithAnyUnavailableVariants:this.showWidgetForProductWithAnyUnavailableVariants,excludedVariants:this.shopConfig.excluded_from_back_in_stock_variants.map((function(e){return e.variant_id})),collectionPageConfig:null===(t=null===(e=this.shopConfig.ui_style)||void 0===e?void 0:e.notify_me_styles)||void 0===t?void 0:t.find((function(e){return(null==e?void 0:e.page)===(pe.isHomePage()?M.LANDING:M.COLLECTION)})),productPageConfig:null===(n=this.shopConfig.ui_style)||void 0===n?void 0:n.product_page_notify_me_style}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restockContents",{get:function(){var e,t=he()||"en",n=this.shopConfig.ui_contents,r=n.find((function(e){return e.language===t}))||n[0],o=null===(e=r.notify_me_contents)||void 0===e?void 0:e.find((function(e){return e.page===ve()})),i=r.subscription_form_content,c=i.button_text,u=Oe(i,["button_text"]);return Ce(Ce({},u),{subscription_form_button_text:c,button_text:o.button_text,not_selectable_variants_button_text:o.not_selectable_variants_button_text})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formFieldsVisibilityMap",{get:function(){return{email:!this.shopConfig.is_email_hidden,phoneNumber:!this.shopConfig.is_sms_hidden,push:!this.shopConfig.is_push_hidden&&we.isSupportedByBrowser()&&!we.isPermissionDenied(),contactsAgreement:this.shopConfig.has_contact_integration&&!this.shopConfig.ask_for_contact_integration_is_hidden}},enumerable:!1,configurable:!0}),e.prototype.fetchShopConfig=function(){var e;return Pe(this,void 0,void 0,(function(){var t,n,r;return Se(this,(function(o){switch(o.label){case 0:t="_ReStockConfig"in window?window._ReStockConfig:{},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,le.getShopConfig(pe.getShopDomain())];case 2:return n=o.sent(),[2,Ce(Ce({},n.data),t)];case 3:return r=o.sent(),V.error("FETCH SHOP CONFIG ERROR: ".concat(null===(e=null==r?void 0:r.response)||void 0===e?void 0:e.shopConfig)),[3,4];case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"showWidgetForProductWithAnyUnavailableVariants",{get:function(){var e=pe.isHomePage()&&Ee.shopConfig.home_page_show_button_when_any_variant_is_out_of_stock,t=pe.isCollectionPage()&&Ee.shopConfig.collection_page_show_button_when_any_variant_is_out_of_stock;return e||t},enumerable:!1,configurable:!0}),e}(),Ee=new ke;!function(e){e.BUTTON="BUTTON",e.NOT_DISPLAYED="NOT_DISPLAYED",e.FORM="FORM"}(ge||(ge={})),function(e){e.SMART="SMART",e.MANUAL="MANUAL"}(be||(be={}));const Te=function(){function e(){}return e.prototype.setup=function(){},e}();var Ne,Ae,xe,Le,Re=0,Be=[],Ie=[],je=t.__b,Ue=t.__r,De=t.diffed,qe=t.__c,Me=t.unmount;function Fe(e,n){t.__h&&t.__h(Ae,e,Re||n),Re=0;var r=Ae.__H||(Ae.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({__V:Ie}),r.__[e]}function Ve(e){return Re=1,He(tt,e)}function He(e,t,n){var r=Fe(Ne++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):tt(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=Ae,!Ae.u)){Ae.u=!0;var o=Ae.shouldComponentUpdate;Ae.shouldComponentUpdate=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return e.__c}));if(i.every((function(e){return!e.__N})))return!o||o.call(this,e,t,n);var c=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(c=!0)}})),!(!c&&r.__c.props===e)&&(!o||o.call(this,e,t,n))}}return r.__N||r.__}function We(e,n){var r=Fe(Ne++,3);!t.__s&&et(r.__H,n)&&(r.__=e,r.i=n,Ae.__H.__h.push(r))}function Ge(e){return Re=5,ze((function(){return{current:e}}),[])}function ze(e,t){var n=Fe(Ne++,7);return et(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function $e(e,t){return Re=8,ze((function(){return e}),t)}function Je(e){var t=Ae.context[e.__c],n=Fe(Ne++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Ae)),t.props.value):e.__}function Ye(){for(var e;e=Be.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ke),e.__H.__h.forEach(Qe),e.__H.__h=[]}catch(n){e.__H.__h=[],t.__e(n,e.__v)}}t.__b=function(e){"function"!=typeof e.type||e.__m||null===e.__?e.__m||(e.__m=e.__&&e.__.__m?e.__.__m:""):e.__m=(e.__&&e.__.__m?e.__.__m:"")+(e.__&&e.__.__k?e.__.__k.indexOf(e):0),Ae=null,je&&je(e)},t.__r=function(e){Ue&&Ue(e),Ne=0;var t=(Ae=e.__c).__H;t&&(xe===Ae?(t.__h=[],Ae.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Ie,e.__N=e.i=void 0}))):(t.__h.forEach(Ke),t.__h.forEach(Qe),t.__h=[])),xe=Ae},t.diffed=function(e){De&&De(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(1!==Be.push(n)&&Le===t.requestAnimationFrame||((Le=t.requestAnimationFrame)||Xe)(Ye)),n.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Ie&&(e.__=e.__V),e.i=void 0,e.__V=Ie}))),xe=Ae=null},t.__c=function(e,n){n.some((function(e){try{e.__h.forEach(Ke),e.__h=e.__h.filter((function(e){return!e.__||Qe(e)}))}catch(r){n.some((function(e){e.__h&&(e.__h=[])})),n=[],t.__e(r,e.__v)}})),qe&&qe(e,n)},t.unmount=function(e){Me&&Me(e);var n,r=e.__c;r&&r.__H&&(r.__H.__.forEach((function(e){try{Ke(e)}catch(e){n=e}})),r.__H=void 0,n&&t.__e(n,r.__v))};var Ze="function"==typeof requestAnimationFrame;function Xe(e){var t,n=function(){clearTimeout(r),Ze&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Ze&&(t=requestAnimationFrame(n))}function Ke(e){var t=Ae,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Ae=t}function Qe(e){var t=Ae;e.__c=e.__(),Ae=t}function et(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function tt(e,t){return"function"==typeof t?t(e):t}function nt(e,t){for(var n in t)e[n]=t[n];return e}function rt(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function ot(e){this.props=e}(ot.prototype=new v).isPureReactComponent=!0,ot.prototype.shouldComponentUpdate=function(e,t){return rt(this.props,e)||rt(this.state,t)};var it=t.__b;t.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),it&&it(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var ct=t.__e;t.__e=function(e,t,n,r){if(e.then)for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);ct(e,t,n,r)};var ut=t.unmount;function at(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=nt({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return at(e,t,n)}))),e}function lt(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return lt(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function st(){this.__u=0,this.t=null,this.__b=null}function dt(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function pt(){this.u=null,this.o=null}t.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),ut&&ut(e)},(st.prototype=new v).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=dt(r.__v),i=!1,c=function(){i||(i=!0,n.__R=null,o?o(u):u())};n.__R=c;var u=function(){if(!--r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=lt(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},a=!0===t.__h;r.__u++||a||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(c,c)},st.prototype.componentWillUnmount=function(){this.t=[]},st.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=at(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&f(h,null,e.fallback);return o&&(o.__h=null),[f(h,null,t.__a?null:e.children),o]};var ft=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function _t(e){return this.getChildContext=function(){return e.context},e.children}function ht(e){var t=this,n=e.i;t.componentWillUnmount=function(){I(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),I(f(_t,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function vt(e,t){var n=f(ht,{__v:e,i:t});return n.containerInfo=t,n}(pt.prototype=new v).__a=function(e){var t=this,n=dt(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),ft(t,e,r)):o()};n?n(i):i()}},pt.prototype.render=function(e){this.u=null,this.o=new Map;var t=P(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},pt.prototype.componentDidUpdate=pt.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){ft(e,n,t)}))};var yt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,mt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,gt="undefined"!=typeof document,bt=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};v.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(v.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var wt=t.event;function Ct(){}function Pt(){return this.cancelBubble}function St(){return this.defaultPrevented}t.event=function(e){return wt&&(e=wt(e)),e.persist=Ct,e.isPropagationStopped=Pt,e.isDefaultPrevented=St,e.nativeEvent=e};var Ot={configurable:!0,get:function(){return this.class}},kt=t.vnode;t.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var o=-1===t.indexOf("-");for(var i in r={},n){var c=n[i];gt&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in n&&null==c||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===c?c="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!bt(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&mt.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===c&&(c=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),r[i]&&(i="oninputCapture")),r[i]=c)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=P(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=P(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(Ot.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",Ot))}e.$$typeof=yt,kt&&kt(e)};var Et=t.__r;t.__r=function(e){Et&&Et(e),e.__c};var Tt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Nt=function(){function e(){}return e.querySelectorAll=function(e,t){return void 0===t&&(t=document.body),(null==e?void 0:e.length)?t.querySelectorAll(e):null},e.getAllAddToCartButtons=function(t,n){void 0===n&&(n=document.body);var r=Tt([t.css_selector_by_support,t.css_selector,t.css_selector_from_theme],ee,!0);return e.getElementByElementSelector(r,n)},e.getAddToCartButton=function(e,t){void 0===t&&(t=document.body);var n=this.getAllAddToCartButtons(e,t);return n&&n.length?n[0]:null},e.getAddToCartButtonBySelectors=function(t,n){var r;return void 0===n&&(n=document.body),null===(r=Array.from(e.getElementByElementSelector(t,n)))||void 0===r?void 0:r[0]},e.getOriginalAddToCartButton=function(e,t){void 0===t&&(t=document.body);var n=this.getAllAddToCartButtons(e,t);if(!n||!n.length)return null;for(var r=0;r<n.length;r++)if(!n[r].className.includes("hengam-preorder-button"))return n[r];return null},e.getBuyItNowButton=function(){var t;return null===(t=e.querySelectorAll(".shopify-payment-button"))||void 0===t?void 0:t[0]},e.getPriceElement=function(t){var n,r=Tt([Ee.preOrder.product_page.elements_selectors.price.css_selector_by_support,Ee.preOrder.product_page.elements_selectors.price.css_selector,Ee.preOrder.product_page.elements_selectors.price.css_selector_from_theme],te,!0);return null===(n=e.getElementByElementSelector(r,t))||void 0===n?void 0:n[0]},e.getElementByElementSelector=function(t,n){void 0===n&&(n=document.body);for(var r=0,o=t;r<o.length;r++){var i=o[r],c=e.querySelectorAll(i,n);if(null==c?void 0:c.length)return c}return null},e.injectStyles=function(){I(f(h,null,vt(f("link",{rel:"stylesheet",href:"https://cdn.hengam.io/restock/styles.css"}),document.head),vt(f("style",null,Ee.config.global_raw_css),document.head)),document.head)},e.injectDeveloperModeVariantInput=function(){pe.isProductPage()&&Ee.config.developer_mode_variant_listener&&e.injectElement(f("input",{type:"hidden",id:"restock-variant-change"}))},e.injectElement=function(e,t){void 0===t&&(t=document.body);var n=document.createElement("div");t.appendChild(n),I(e,n)},e.injectProductPageStyles=function(){var e=document.createElement("style");e.innerHTML=Ee.config.product_page_raw_css,document.head.appendChild(e)},e}();const At=Nt;var xt,Lt=function(e,t){var n="hengam-hide-buy-it-now-button-".concat(e),r="preorder"===e?Ee.preOrder.product_page.ui_styles.hide_buy_it_now_button:Ee.restock.productPageConfig.hide_buy_it_now_button&&!Ee.restock.not_selectable_variants_enabled;We((function(){if(r)try{var e=At.getBuyItNowButton();if(!e)return;t?e.classList.add(n):e.classList.remove(n)}catch(e){V.warn("unable to hide buy it now button: ".concat(e))}}),[t])};!function(e){e.before="before",e.after="after",e.start="start",e.end="end"}(xt||(xt={}));var Rt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Bt(e){var t=Ee.restock.productPageConfig,n=t.support_wrapper,r=t.wrapper,o=t.use_add_to_cart_button_selector,i=t.inject_to_all_wrappers,c=It(e,X);return c.length||(c=It(e,null!=n?n:[])),!c.length&&o&&(c=function(e){var t=Ee.restock.productPageConfig,n=t.css_selector,r=t.css_selector_by_support,o=t.css_selector_from_theme,i={css_selector:n,css_selector_by_support:r,css_selector_from_theme:o},c=At.getAddToCartButton(i,e);return c?[{element:c,injectionType:xt.after}]:[]}(e)),c.length||(c=It(e,null!=r?r:[])),c.length||(c=It(e,K)),!c.length||i?c:[c[0]]}function It(e,t){var n=Ee.restock.productPageConfig,r=n.prepend_to_wrapper,o=n.inject_in_parent_of_wrapper;return t.reduce((function(t,n){var i,c=null===(i=At.querySelectorAll(n,e))||void 0===i?void 0:i[0];if(!c)return t;var u=o?c.parentElement:c,a=r?xt.start:xt.end;return Rt(Rt([],t,!0),[{element:u,injectionType:a}],!1)}),[])}function jt(e){if(""!==e.id)return'id("'+e.id+'")';if(e===document.body)return e.tagName.toLowerCase();for(var t=0,n=e.parentElement.children,r=0;r<n.length;r++){var o=n[r];if(o===e)return jt(e.parentElement)+"/"+e.tagName.toLowerCase()+"["+(t+1)+"]";1===o.nodeType&&o.tagName===e.tagName&&t++}}var Ut=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Dt=function(){function e(e,t){this.listeners=[],this.intervalId=null,this.product=e,this.scope=t}return e.getInstance=function(t,n){void 0===n&&(n=document.body);var r="".concat(t.handle).concat(jt(n));return e.instanceMap.has(r)||e.instanceMap.set(r,new e(t,n)),e.instanceMap.get(r)},e.prototype.subscribeToVariantChange=function(e){this.listeners.push(e),this.started?this.notifyListeners():this.startVariantTracking()},e.prototype.notifyListeners=function(){var e=this;this.currentVariantId&&this.listeners.forEach((function(t){return t(e.currentVariantId)}))},e.prototype.startVariantTracking=function(){var e,t,n,r=this;this.started=!0;var o=function(e){V.info("SELECTED VARIANT ID: ".concat(e)),r.currentVariantId=parseInt(e),r.notifyListeners()};V.debug("setting variant listener for ".concat(this.product.handle,"...")),(null===(t=null===(e=Ee.config)||void 0===e?void 0:e.custom_variant_listener)||void 0===t?void 0:t.element)?this.intervalId=Mt(null===(n=Ee.config)||void 0===n?void 0:n.custom_variant_listener,o):Ee.config.developer_mode_variant_listener?this.intervalId=Mt({element:"#restock-variant-change",property:"value"},o):this.intervalId=qt(this.scope,o)},e.prototype.terminateVariantTracking=function(){this.started&&(this.started=!1,this.listeners=[],this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null))},e.instanceMap=new Map,e}(),qt=function(e,t){var n=null,r=null,o=!1,i=function(){var t=Ut(Ut([],ie.map((function(e){return'input[name="'.concat(e,'"]')})),!0),ie.map((function(e){return'select[name="'.concat(e,'"]')})),!0).join(",");return e.querySelector(t)},c=function(t){if("radio"===t.type){var n=e.querySelector(ie.map((function(e){return'input[name="'.concat(e,'"]:checked')})).join(","));return n?n.value:null}return t.value};return setInterval((function(){var e;(e=new URLSearchParams(window.location.search).get("variant"))&&e!==n&&(n=e,o=!0,t(e)),function(){var e=i();if(!o&&e){var n=c(e);n&&n!==r&&(r=n,t(String(n)))}}()}),100)},Mt=function(e,t){var n=e.element,r=e.property,o=e.is_dataset_property,i=document.querySelector(n),c=o?i.dataset[r]:i.getAttribute(r);return t(c),setInterval((function(){var e=o?i.dataset[r]:i.getAttribute(r);c!==e&&(c=e,t(e))}),100)},Ft=function(e,t,n){void 0===n&&(n=!0);var r=Ve(),o=r[0],i=r[1];return We((function(){if(n&&e.hasMultipleVariants)return Dt.getInstance(e,t).subscribeToVariantChange((function(e){e&&i(e)})),function(){return Dt.getInstance(e,t).terminateVariantTracking()}}),[n,e,t]),e.hasMultipleVariants?e.findVariantById(o):e.variants[0]},Vt=j(void 0),Ht=function(){var e=Je(Vt),t=e.customStyles,n=e.styleMode===be.MANUAL&&(null==t?void 0:t.iconColor)?"#".concat(null==t?void 0:t.iconColor):"#fff";return f("svg",{viewBox:"0 0 20 20",width:"20",height:"20",style:"display: block !important; margin-right: 5px !important; height: 20px !important; width: 20px !important; max-width: 20px !important;"},f("path",{d:"M10.0003 0C10.5525 0 11.0003 0.447716 11.0003 1V3L10.9998 3.0317L10.9988 3.05341L10.9969 3.0824C13.8362 3.55709 16.0003 6.02583 16.0003 9C16.0003 12.0933 16.6253 13.312 17.5989 15.2103L17.6336 15.2781C17.8033 15.6088 17.563 16 17.1912 16H2.80935C2.43753 16 2.19729 15.6088 2.36697 15.2781L2.40164 15.2103C3.37527 13.312 4.00027 12.0933 4.00027 9C4.00027 6.02583 6.16434 3.55709 9.00369 3.0824L9.00149 3.04284C9.00076 3.02863 9.00027 3.01435 9.00027 3V1C9.00027 0.447716 9.44803 0 10.0003 0Z",fill:n}),f("path",{d:"M12.0003 18C12.0003 19.1046 11.1048 20 10.0003 20C8.89578 20 8.00027 19.1046 8.00027 18H12.0003Z",fill:n}))},Wt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Gt=function(e){var t,n,r,o=null!==(r=null===(n=null===(t=Ee.restock.ui_style)||void 0===t?void 0:t.button_classes)||void 0===n?void 0:n.filter((function(e){return!e.includes(" ")})))&&void 0!==r?r:[];return Wt(Wt(Wt([],e,!0),o,!0),ne,!0).join(" ")},zt=function(e){var t=e.text,n=e.style,r=e.widgetSpecificClasses,o=e.onClick,i=e.showAlarmIcon,c=void 0!==i&&i;return f("button",{type:"button",className:Gt(r),style:n,onClick:o},c&&f(Ht,null),t)},$t=function(e,t){void 0===t&&(t=null);var n="".concat(Y,"-").concat(e);return t?"".concat(n," ").concat(t):n},Jt=function(e,t){return t===be.SMART?(V.warn("SMART MODE STYLE. USER CUSTOM STYLES DID NOT APPLY."),""):"background-color : #".concat(null==e?void 0:e.backgroundColor," !important;\n          background : #").concat(null==e?void 0:e.backgroundColor," !important;\n          border : ").concat(null==e?void 0:e.borderSize,"px solid #").concat(null==e?void 0:e.borderColor," !important;\n          border-radius : ").concat(null==e?void 0:e.borderRadius,"px !important;\n          color : #").concat(null==e?void 0:e.color," !important;")},Yt=" display : flex !important; justify-content : center; align-items : center !important;",Zt=function(e){var t=Ee.restock.uiContents;return e.needUnselectableVariantsFeature?t.not_selectable_variants_button_text:t.button_text},Xt=function(e){var t=e.name,n=e.className,r=void 0===n?"":n,o=e.width,i=void 0===o?20:o,c=e.onClick;return f("img",{className:r,src:"".concat(z,"/").concat(t,"-icon.png"),style:{width:i},alt:"".concat(t," icon"),onClick:c})},Kt=function(e){var t=e.link,n=e.style;return Ee.config.disable_branding_permission&&!Ee.config.app_branding_enabled?null:f("div",{className:$t("branding-text","brandingStyle"),style:n},f(Xt,{name:"logo",width:20}),f("p",{style:{paddingLeft:8,margin:0}},"Powered by"),f("a",{className:$t("branding-link"),style:{color:"#003baf",display:"inline-block",paddingLeft:5},href:"".concat(t).concat(pe.getShopDomain()),target:"_blank",rel:"noopener noreferrer","aria-describedby":"new-window-warning"},"Notify Me!"),f("div",{hidden:!0},f("span",{id:"new-window-warning"},"Opens in a new window")))},Qt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},en=function(e){var t=e.isFloat,n=void 0!==t&&t,r=e.showBranding,o=void 0!==r&&r,i=Je(Vt),c=i.product,u=i.customStyles,a=i.styleMode,l=i.openModal,s=Jt(u,a),d=Zt(c),p=Qt(Qt(Qt([],n?[$t("float-button"),"floatButtonStyle"]:[],!0),n?[]:[$t("notify-button"),"".concat(ve(),"-notify-button"),"notifyButtonStyle"],!0),c.needUnselectableVariantsFeature?[$t("unselectable-variant-text")]:[],!0);return f(h,null,f(zt,{text:d,style:s+Yt,widgetSpecificClasses:p,onClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),l()},showAlarmIcon:!!(null==u?void 0:u.showIcon)}),o&&f(Kt,{link:$}))},tn=function(){return tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tn.apply(this,arguments)},nn=function(){return[$t("submit-button"),"notifyButtonStyle","submitButtonStyle"]},rn=function(){var e=Je(Vt).submitForm,t=Jt(Ee.restock.ui_style.subscription_form_style.custom_styles,Ee.restock.ui_style.subscription_form_style.style_mode);return f(zt,{text:Ee.restock.uiContents.subscription_form_button_text,style:t,widgetSpecificClasses:nn(),onClick:e})},on=function(e){var t=e.isInlineForm,n=void 0!==t&&t,r=Ge(null),o=Je(Vt),i=o.errors,c=o.fields,u=o.updateField,a=Ee.restock.uiContents,l="email";return We((function(){!n&&r.current&&r.current.focus()}),[n]),We((function(){r.current&&(i.email||i.form)&&r.current.focus()}),[i.email,i.form]),f("div",{className:$t("".concat(l,"-channel-form"),"channelWrapperStyle")},f("div",null,f("label",{className:$t("".concat(l,"-label"),"fieldLabelStyle")},f("div",{className:$t("".concat(l,"-label-span"),"fieldLabelTextStyle")},a.email_label))),f("input",{ref:r,type:"text",className:$t("".concat(l,"-input"),"inputStyle ".concat(i.email?"inputWithErrorStyle":"")),placeholder:a.email_input_placeholder,value:c.email,onChange:function(e){return u("email",e.target.value)}}),i.email&&f("p",{className:$t("".concat(l,"-error"),"errorStyle")},a.invalid_email_error_message))},cn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}a((r=r.apply(e,t||[])).next())}))},un=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){c.label=u[1];break}if(6===u[0]&&c.label<o[1]){c.label=o[1],o=u;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(u);break}o[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},an=function(){function e(){this.countries=[]}return e.prototype.detectCountryCode=function(){var e,t;return cn(this,void 0,void 0,(function(){var n,r;return un(this,(function(o){switch(o.label){case 0:if(this.defaultCountryCode)return[2,this.defaultCountryCode];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,W().get("https://www.cloudflare.com/cdn-cgi/trace",{responseType:"text"})];case 2:return n=o.sent(),this.defaultCountryCode=null===(t=null===(e=n.data)||void 0===e?void 0:e.match(/loc=([A-Z]+)/))||void 0===t?void 0:t[1],[3,4];case 3:return r=o.sent(),console.log("UNABLE TO DETECT COUNTRY CODE: ",r),this.defaultCountryCode="US",[3,4];case 4:return[2,this.defaultCountryCode]}}))}))},e.prototype.getCountries=function(){return cn(this,void 0,void 0,(function(){var e,t;return un(this,(function(n){switch(n.label){case 0:if(this.countries.length>0)return[2,this.countries];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,W().get(J)];case 2:return e=n.sent(),this.countries=e.data,[3,4];case 3:return t=n.sent(),console.log("UNABLE TO GET COUNTRY CODES: ",t),[3,4];case 4:return[2,this.countries]}}))}))},e}(),ln=new an,sn=function(e){var t=e.isEmailFieldHidden,n=e.isInlineForm,r=void 0!==n&&n,o=Ee.restock.uiContents,i=Ge(null),c=Je(Vt),u=c.errors,a=c.fields,l=c.updateField,s=Ve([a.country]),d=s[0],p=s[1],_="sms",h=$e((function(e){var t;return null!==(t=d.find((function(t){return t.code===e})))&&void 0!==t?t:Z}),[d]);return We((function(){!r&&i.current&&t&&i.current.focus()}),[t,r]),We((function(){i.current&&(u.phoneNumber&&!u.email||u.form&&t)&&i.current.focus()}),[u.phoneNumber,u.email,t]),We((function(){ln.getCountries().then((function(e){p(e)}))}),[]),We((function(){d.length<=1||me.get("clientCountryPreNumber")||ln.detectCountryCode().then((function(e){var t=h(e);l("country",t),me.set("clientCountryCode",t.code),me.set("clientCountryPreNumber",t.dial_code)}))}),[d,h,l]),f("div",{className:$t("".concat(_,"-channel-form"),"channelWrapperStyle")},f("div",null,f("label",{className:$t("".concat(_,"-label"),"fieldLabelStyle")},f("div",{className:$t("".concat(_,"-label-span"),"fieldLabelTextStyle")},o.sms_label))),f("div",{className:$t("".concat(_,"-input-container"),"noWrapFlexContainer")},f("select",{className:$t("country-select","selectBoxStyle"),style:{width:"29%",marginBottom:"0",marginRight:"1%"},value:a.country.code,onChange:function(e){return l("country",h(e.target.value))}},d.map((function(e){return f("option",{value:e.code,key:e.code},"".concat(e.code," (").concat(e.dial_code,")"))}))),f("input",{type:"text",className:$t("".concat(_,"-input"),"inputStyle ".concat(u.phoneNumber?"inputWithErrorStyle":"")),style:{width:"70%"},placeholder:o.sms_input_placeholder,value:a.phoneNumber,onChange:function(e){return l("phoneNumber",e.target.value)},ref:i})),u.phoneNumber&&f("p",{className:$t("".concat(_,"-error"),"errorStyle")},o.invalid_phone_number_error_message))},dn=function(){var e=Je(Vt),t=e.fields,n=e.updateField,r=Ve(!1),o=r[0],i=r[1],c="push-notification";return f("div",{className:$t("".concat(c,"-channel-form"),"channelWrapperStyle")},f("div",null,f("label",{className:$t("".concat(c,"-label"),"fieldLabelStyle")},f("input",{type:"checkbox",className:$t("".concat(c,"-checkbox"),"fieldCheckboxStyle"),id:"".concat(Y,"-").concat(c,"-label"),style:{width:20},onClick:function(e){e.preventDefault(),we.isPermissionGranted()?n("pushSelected",e.target.checked):we.requestPermission((function(e){e===fe.GRANTED?n("pushSelected",!0):e===fe.DENIED&&i(!0)}))},checked:t.pushSelected,disabled:o}),f("div",{className:$t("".concat(c,"-label-span"),"fieldLabelTextStyle pushLabelTextStyle")},Ee.restock.uiContents.push_label))))},pn=function(){var e=Je(Vt),t=e.fields,n=e.updateField,r="agreement-text";return f("label",{className:$t("".concat(r,"-label"),"agreementTextLabelStyle")},f("input",{type:"checkbox",className:"agreementCheckboxStyle",checked:t.contactListConsent,onClick:function(e){e.preventDefault(),n("contactListConsent",e.target.checked)}}),f("span",{className:$t("".concat(r,"-span")),style:{paddingLeft:5}},Ee.restock.uiContents.add_to_contacts_checkbox_text))},fn=function(){var e=Je(Vt),t=e.fields,n=e.updateField,r=e.product;return f("div",{className:"selectBoxWrapper"},f("select",{className:$t("variant-select","selectBoxStyle"),value:t.variantId,onChange:function(e){return n("variantId",e.target.value)}},r.unavailableVariants.map((function(e){var t;return f("option",{value:null===(t=null==e?void 0:e.id)||void 0===t?void 0:t.toString(),key:null==e?void 0:e.id},null==e?void 0:e.title)}))))},_n=function(){var e;return f("p",{className:$t("no-channels-error","errorStyle"),style:"margin-bottom : 0 !important;"},null!==(e=Ee.restock.uiContents.no_channels_selected_error_message)&&void 0!==e?e:"You need to subscribe to one of the channels.")},hn=function(e){var t=e.isInlineForm,n=void 0!==t&&t,r=Je(Vt),o=r.product,i=r.errors,c=Ee.restock.isFieldVisible;return f(h,null,f("div",{className:$t("form-title","formTitleStyle")},Ee.restock.uiContents.form_title),c.email&&f(on,{isInlineForm:n}),c.phoneNumber&&f(sn,{isEmailFieldHidden:!c.email,isInlineForm:n}),c.push&&f(dn,null),o.hasMultipleVariants&&o.hasUnavailableVariants&&f(fn,null),n&&c.contactsAgreement&&f(pn,null),n&&i.form&&f(_n,null))},vn=function(e){var t=e.isOpen,n=e.disabled,r=e.closeModal,o=Je(Vt).errors,i=Ee.restock.isFieldVisible;if(We((function(){function e(e){"Escape"===e.key&&r()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),!t)return null;var c="modal";return f("div",{className:$t("".concat(c,"-wrapper"),"modalWrapperStyle")},f("div",{className:$t("".concat(c,"-box"),"modalBoxStyle"),style:{pointerEvents:n?"none":"auto",opacity:n?.6:1}},f("div",{className:"modalBoxUpperSectionStyle"},f("div",{className:"modalCloseButtonWrapper"},f(Xt,{className:$t("".concat(c,"-close-btn modalCloseButtonStyle")),width:14,name:"close-circle",onClick:r})),f("div",{className:$t("form")},f(hn,null))),f("div",{className:"modalBoxLowerSectionStyle"},i.contactsAgreement&&f(pn,null),o.form&&f(_n,null),f(rn,null),f(Kt,{link:"https://apps.shopify.com/preorder-back-in-stock?utm_source=SDK&utm_medium=formwm&utm_campaign="}))))},yn=function(e){var t,n,r,o,i,c,u=e.isOpen,a=e.message,l=Ge(null);if(We((function(){l.current&&u&&l.current.focus()}),[u]),!u)return null;var s={backgroundColor:"#".concat((null===(n=null===(t=Ee.restock.ui_style)||void 0===t?void 0:t.after_subscribe_message_styles)||void 0===n?void 0:n.toastBackgroundColor)||"d9dfea"),color:"#".concat((null===(o=null===(r=Ee.restock.ui_style)||void 0===r?void 0:r.after_subscribe_message_styles)||void 0===o?void 0:o.toastColor)?null===(c=null===(i=Ee.restock.ui_style)||void 0===i?void 0:i.after_subscribe_message_styles)||void 0===c?void 0:c.toastColor:"202223")};return f("div",{className:$t("toast","toastStyle"),style:s,ref:l,tabIndex:-1},f(Xt,{className:"toastCheckIcon",width:20,name:"toast-check"}),a)},mn=function(){return mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mn.apply(this,arguments)},gn=function(e,t,n,r){var o=Ve(t),i=o[0],c=o[1],u=Ve({email:!1,phoneNumber:!1,form:!1}),a=u[0],l=u[1],s=Ve(!1),d=s[0],p=s[1],f=$e((function(e,t){l((function(t){var n;return["email","phoneNumber"].includes(e)?mn(mn({},t),((n={})[e]=!1,n.form=!1,n)):"pushSelected"===e?mn(mn({},t),{form:!1}):t})),c((function(n){var r;return mn(mn({},n),((r={})[e]=t,r))}))}),[]);return{fields:i,errors:a,updateField:f,submitForm:function(){var t,o;if(function(){var e=!1,t=!1,n=!1;Ee.restock.isFieldVisible.email&&(/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+$/.test(String(i.email).toLowerCase())?me.set("clientEmail",i.email):i.email&&(e=!0));Ee.restock.isFieldVisible.phoneNumber&&(/^[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,9}$/im.test(String(i.phoneNumber).toLowerCase())?(me.set("clientNumber",i.phoneNumber),me.set("clientCountryCode",i.country.code),me.set("clientCountryPreNumber",i.country.dial_code)):i.phoneNumber&&(t=!0));return i.email||i.phoneNumber||i.pushSelected||(n=!0),!(e||t||n)||(l({email:e,phoneNumber:t,form:n}),!1)}()){p(!0);var c=!!(null===(t=pe.getQueryParameter("is_shop_owner",window.location.href))||void 0===t?void 0:t.toLowerCase()),u=window.location.href;c||(u="https://".concat(pe.getShopDomain(),"/products/").concat(e.handle),i.variantId&&(u+="?variant=".concat(i.variantId)));var a,s,d={email:i.email?i.email:null,phone_number:i.phoneNumber?i.country.dial_code+i.phoneNumber:null,push_token:i.pushSelected?we.getPushToken():null,push_provider:i.pushSelected?we.getPushProvider():null,locale:he(),product_id:e.id,url:u,variant_id:i.variantId,timezone:(a="0",s=(new Date).getTimezoneOffset(),0!=(s=s/60*-1)&&(a=s>0?"+":"-",a+=s),a),contact_list_consent:i.contactListConsent,shop_id:null===(o=Ee.config)||void 0===o?void 0:o.shop_id};window.location.href.includes("wolfpak.com")&&(p(!1),n()),le.subscribeToProduct(d).then(n).catch(r).finally((function(){p(!1)}))}},submitLoad:d}},bn=function(e,t,n){var r,o=Ee.restock.uiContents,i=ze((function(){var e,t=Ee.restock.isFieldVisible;return{email:t.email?me.get("clientEmail"):null,country:me.get("clientCountryCode")&&me.get("clientCountryPreNumber")?{code:me.get("clientCountryCode"),dial_code:me.get("clientCountryPreNumber"),name:""}:Z,phoneNumber:t.phoneNumber?me.get("clientNumber"):null,pushSelected:!!t.push&&we.isPermissionGranted(),contactListConsent:t.contactsAgreement,variantId:null===(e=null==r?void 0:r[0])||void 0===e?void 0:e.id.toString()}}),[r=e.unavailableVariants]);return gn(e,i,(function(){t(),n(o.after_subscribe_message_text)}),(function(e){var r,i;t(),409===(null===(r=null==e?void 0:e.response)||void 0===r?void 0:r.status)&&n(o.already_subscribed_message_text),429===(null===(i=null==e?void 0:e.response)||void 0===i?void 0:i.status)&&n("You have made too many attempts. Please try again later.")}))},wn=function(e){return document.getElementById("restock-".concat(e))};var Cn=function(e,t){try{var n=document.createElement("div");t(e,n);var r=function(e,t){var n=(t=[].concat(t))[t.length-1].nextSibling;function r(t,r){try{e.insertBefore(t,r||n)}catch(e){V.error("ERROR INSERTING TO PARENT IN CREATE ROOT FRAGMENT")}}return e.__k={nodeType:1,parentNode:e,firstChild:t[0],childNodes:t,insertBefore:r,appendChild:r,removeChild:function(t){e.removeChild(t)}}}(e,n);return e.removeChild(n),r}catch(e){return console.error("Error in createRootFragment",e),null}},Pn=function(e){return Cn(e,(function(e,t){return e.prepend(t)}))},Sn=function(e){return Cn(e,(function(e,t){return e.appendChild(t)}))},On=function(e){return Cn(e.parentElement,(function(t,n){return t.insertBefore(n,e)}))},kn=function(e){var t=function(e){for(var t=e.nextSibling;t;){if(t instanceof Element&&"nm-portal"!==t.className)return t;t=t.nextSibling}return null}(e);return Cn(e.parentElement,(function(e,n){return t?e.insertBefore(n,t):e.appendChild(n)}))},En=function(e){var t=e.children,n=e.fragmentInfo;return vt(f("div",{className:"nm-portal"},t),function(e){switch(e.injectionType){case xt.before:return On(e.element);case xt.after:return kn(e.element);case xt.start:return Pn(e.element);case xt.end:return Sn(e.element)}}(n))},Tn=function(e){var t=e.children,n=function(e){var t=Ve([]),n=t[0],r=t[1],o=Ge([]),i=$e((function(){var t,n,i=e();t=o.current,n=i,t.length===n.length&&t.every((function(e){return n.some((function(t){return e.element===t.element&&e.injectionType===t.injectionType}))}))||(V.info("updating containers",i.map((function(e){return e.element}))),o.current=i,r(i))}),[e]);return We((function(){i()}),[i]),{fragmentInfos:n,updateFragmentInfos:i}}(e.getParentInfos),r=n.fragmentInfos,o=function(e,t){void 0===t&&(t=document.body);var n=Ge(null);return{initialize:$e((function(){var r=new MutationObserver(e);r.observe(t,{childList:!0,subtree:!0}),n.current=r}),[e,t]),cleanup:$e((function(){n.current&&(n.current.disconnect(),n.current=null)}),[])}}(n.updateFragmentInfos);return We((function(){return o.initialize(),o.cleanup}),[o]),f(h,null,r.map((function(e,n){return f(En,{key:"portal-".concat(n),fragmentInfo:e},t)})))},Nn=function(){return Nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Nn.apply(this,arguments)},An=function(e){var t=e.product,n=e.injectionInfo,r=e.showWidget,o=e.inlineWidget,i=e.getInlineWidgetParentInfos,c=e.selectedVariant,u=e.children,a=function(){var e=Ve(!1),t=e[0],n=e[1];return{isOpen:t,open:function(){return n(!0)},close:function(){return n(!1)}}}(),l=function(){var e=Ve({isOpen:!1,message:""}),t=e[0],n=e[1];return tn(tn({},t),{show:function(e){n({isOpen:!0,message:e}),setTimeout((function(){n(tn(tn({},t),{isOpen:!1}))}),4e3)}})}(),s=bn(t,a.close,l.show),d=n.custom_styles,p=n.style_mode,_=function(e,t,n,r,o){var i=Ve(!1),c=i[0],u=i[1],a=Jt(r,o);return We((function(){var e=wn(t);e&&(e.style.cssText=a+Yt,e.addEventListener("click",(function(e){e.preventDefault(),n()})),u(!0))}),[a,t]),We((function(){var n=wn(t);n&&(n.style.cssText+=e?"display:flex !important":"display:none !important")}),[e,t]),c}(r,t.handle,a.open,d,p);return We((function(){(null==c?void 0:c.id)&&s.updateField("variantId",c.id.toString())}),[c,s.updateField]),r?f(Vt.Provider,{value:Nn(Nn({},s),{product:t,customStyles:d,styleMode:p,openModal:a.open})},u,!_&&o&&(n.handle_rerenders?f(Tn,{getParentInfos:i},o):i().map((function(e,t){return f(En,{key:"portal-".concat(t),fragmentInfo:e},o)}))),f(vn,{isOpen:a.isOpen,disabled:s.submitLoad,closeModal:a.close}),f(yn,{isOpen:l.isOpen,message:l.message})):null},xn=function(){var e=Je(Vt),t=e.product,n=e.submitForm,r=e.customStyles,o=e.styleMode,i=Jt(r,o),c=Zt(t);return f(zt,{text:c,style:i,widgetSpecificClasses:nn(),onClick:n})},Ln=function(){return f("div",{className:$t("form"),style:{borderRadius:"15px",border:"1px solid #999",marginTop:"15px",padding:"15px",display:"block"}},f(hn,{isInlineForm:!0}),f(xn,null),f(Kt,{link:$}))},Rn=function(e){var t=e.product,n=e.scope,r=void 0===n?document.body:n,o=e.isQuickView,i=void 0!==o&&o,c=Ft(t,r,!Ee.restock.not_selectable_variants_enabled),u=function(e,t){return ze((function(){return!!e.variants.every((function(e){return e.isUnavailable}))||(Ee.restock.not_selectable_variants_enabled?e.hasUnavailableVariants:t?t.isUnavailable:e.areAllUnavailableVariantsPreorder)}),[e,t])}(t,c);Lt("restock",u);var a=$e((function(){return Bt(r)}),[r]);return f(An,{product:t,showWidget:u,injectionInfo:Ee.restock.productPageConfig,getInlineWidgetParentInfos:a,inlineWidget:Ee.restock.productPageConfig.inline_display_mode===ge.FORM?f(Ln,null):Ee.restock.productPageConfig.inline_display_mode===ge.BUTTON?f(en,{showBranding:!0}):null,selectedVariant:c},Ee.restock.productPageConfig.show_floating_button&&!i&&f(en,{isFloat:!0}))},Bn=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function In(e){var t=encodeURI(e),n=function(e){var t=Ee.restock.collectionPageConfig,n=t.wrapper,r=t.prepend_to_wrapper,o=t.inject_in_parent_of_wrapper;return(null==n?void 0:n.length)?n.reduce((function(t,n){var i=Array.from(document.querySelectorAll(n)).filter((function(t){return Boolean(t.querySelector('a[href*="'.concat(e,'"]')))})),c=i.find((function(t){var n=t.querySelector('a[href*="'.concat(e,'"]'));return pe.getLastSegmentOfUrl(null==n?void 0:n.href)===e}));if(!c)return t;var u=o?c.parentElement:c,a=r?xt.start:xt.end;return Bn(Bn([],t,!0),[{element:u,injectionType:a}],!1)}),[]):[]}(t);return n.length||(n=function(e){var t=document.querySelectorAll('a[href*="'.concat(e,'"]'));return Array.from(t).reverse().filter((function(t){return pe.getLastSegmentOfUrl(null==t?void 0:t.href)===e})).map((function(e){return{element:e.parentElement,injectionType:xt.end}}))}(t)),!n.length||Ee.restock.collectionPageConfig.inject_to_all_wrappers?n:[n[0]]}var jn,Un=function(e){var t=e.product,n=ze((function(){var e,n;return Ee.restock.showWidgetForProductWithAnyUnavailableVariants?null===(e=t.variants)||void 0===e?void 0:e.some((function(e){return e.isUnavailable})):null===(n=t.variants)||void 0===n?void 0:n.every((function(e){return e.isUnavailable}))}),[t.variants]),r=$e((function(){return In(t.handle)}),[t]);return f(An,{product:t,showWidget:n,injectionInfo:Ee.restock.collectionPageConfig,getInlineWidgetParentInfos:r,inlineWidget:f(en,null)})},Dn=(jn=function(e,t){return jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},jn(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}jn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dn(t,e),Object.defineProperty(t.prototype,"isServiceEnabled",{get:function(){return Ee.restock.isServiceActive?Ee.restock.subscription_limit_reached?(V.warn("THE SHOP HAS REACHED ITS SUBSCRIPTION LIMIT"),!1):!Ee.restock.disable_button||(V.warn("BUTTON HAS BEEN DISABLED BY SHOP DEVELOPER"),!1):(V.warn("BACK-IN-STOCK SERVICE IS DEACTIVATED"),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollectionPageServiceEnabled",{get:function(){var e;return(null===(e=Ee.restock.collectionPageConfig)||void 0===e?void 0:e.inline_display_mode)!==ge.NOT_DISPLAYED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProductPageServiceEnabled",{get:function(){var e,t;return(null===(e=Ee.restock.productPageConfig)||void 0===e?void 0:e.inline_display_mode)!==ge.NOT_DISPLAYED||(null===(t=Ee.restock.productPageConfig)||void 0===t?void 0:t.show_floating_button)},enumerable:!1,configurable:!0}),t.prototype.isServiceApplicableOnProduct=function(e){return!!e.hasUnavailableVariants||(this.removeManualButton(e.handle),!1)},t.prototype.getSingleProductWidget=function(e,t,n){return f(Rn,{product:e,scope:t,isQuickView:n})},t.prototype.getCollectionPageWidget=function(e){return f(Un,{product:e})},t.prototype.removeManualButton=function(e){var t=wn(e);t&&(t.style.cssText+="display:none !important")},t}(Te);const Mn=qn;var Fn=j(void 0),Vn=function(){var e=Je(Fn);if(!e)throw new Error("usePreOrderWidgetContext must be used within a PreOrderWidgetContextProvider");return e},Hn=function(){var e=Vn().scope,t=Ve(),n=t[0],r=t[1],o=Ge(null),i=Ge({}),c=function(){return At.getPriceElement(e)},u=function(){var e=c();e&&r(e)};We((function(){var e;!function(){var e=c();if(e&&null===o.current){var t=window.getComputedStyle(e);o.current=t.display,["color","fontSize","fontFamily","fontWeight"].forEach((function(e){t&&e in t&&(i.current[e]=t[e])}))}}(),u(),(e=new MutationObserver((function(){var e=c();e&&e.style.display!==(null==n?void 0:n.style.display)&&u()}))).observe(document.body,{childList:!0,subtree:!0}),e.disconnect}),[]);return{exists:!!n,style:i.current,show:function(){"none"===n.style.display&&n.style.setProperty("display",o.current)},hide:function(){return n.style.setProperty("display","none","important")},getAlternateWrapper:function(){var e=document.createElement(n.tagName);try{return n.parentElement.insertBefore(e,n),e}catch(e){return V.error("Error in Price getAlternateWrapper: ".concat(e)),null}}}},Wn=function(){return f("span",{className:"hengam-preorder-badge",style:Jt(Ee.preOrder.product_page.ui_styles.badge.custom_styles,Ee.preOrder.product_page.ui_styles.style_mode)},Ee.preOrder.product_page.ui_contents.badge_text)},Gn=function(){return Gn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gn.apply(this,arguments)},zn=function(){var e=Vn().variant,t=Hn();if(!t.exists)return null;var n=t.getAlternateWrapper();return n?e.isPreorder?(t.hide(),vt(f("div",{className:"hengam-product-price-wrapper",style:Gn({},t.style)},e.hasDiscount&&f("span",{className:"hengam-price hengam-pre-discount-price"},e.formattedPreDiscountPrice),f("span",{className:"hengam-price hengam-final-price"},e.formattedFinalPrice),!Ee.preOrder.product_page.ui_styles.badge.is_hidden&&f(Wn,null)),n)):(t.show(),null):null},$n=function(){var e,t=Vn(),n=t.variant,r=t.scope;if(!n.isPreorder)return null;var o=ze((function(){return Array.from(r.querySelectorAll("form")).filter((function(e){var t;return null===(t=e.getAttribute("action"))||void 0===t?void 0:t.includes("/cart/add")}))}),[]);if(0===o.length)return null;var i=!!(null===(e=Ee.preOrder.selling_plan)||void 0===e?void 0:e.id)&&!Ee.config.isB2BCustomer;return f(h,null,o.map((function(e){return vt(f(h,null,f("input",{name:"properties[Type]",type:"hidden",value:"NM-preorder"}),i&&f("input",{name:"selling_plan",type:"hidden",value:Ee.preOrder.selling_plan.id})),e)})))},Jn=function(){var e=Vn(),t=e.variant,n=e.addToCartButton,r=$e((function(){var e,t=Ee.preOrder.product_page.elements_selectors.description.wrapper_by_support,r=null===(e=At.querySelectorAll(t))||void 0===e?void 0:e[0];return r?[{element:r,injectionType:xt.start}]:n?[{element:n,injectionType:xt.before}]:[]}),[n]);return Ee.preOrder.product_page.ui_styles.description.is_hidden||!t.isPreorder?null:f(Tn,{getParentInfos:r},f("p",{className:"hengam-preorder-description"},Ee.preOrder.product_page.ui_contents.widget_description))},Yn=function(e){return e instanceof HTMLInputElement},Zn=function e(t){var n;if(t){if(t.nodeType===Node.TEXT_NODE&&(null===(n=t.nodeValue)||void 0===n?void 0:n.trim()))return t;for(var r=0;r<t.childNodes.length;r++){var o=e(t.childNodes[r]);if(o)return o}}},Xn=function(e){var t=e.style,n=e.styleMode,r=e.text,o=e.hasBranding,i=void 0!==o&&o,c=Vn(),u=c.variant,a=c.addToCartButton,l=Ge(!1),s=Ge(null),d=ze((function(){var e;return null===(e=null==a?void 0:a.style)||void 0===e?void 0:e.cssText}),[]),p=$e((function(){s.current&&(s.current.disconnect(),s.current=null)}),[]),_=$e((function(){var e=new MutationObserver(v);e.observe(a,{childList:!0,subtree:!0}),s.current=e}),[a]);We((function(){return p(),a&&(v(),_()),p}),[a]),We((function(){l.current=u.isPreorder,a&&h()}),[u]);var h=function(){y(),m()},v=function(){setTimeout(h,110)},y=function(){if(l.current)if(Yn(a)&&a.value&&a.value!==r)a.value=r;else{var e=Zn(a);(null==e?void 0:e.nodeValue)&&e.nodeValue!==r&&(e.nodeValue=r)}},m=function(){l.current?(a.style.cssText=Jt(t,n),a.classList.add(Q)):(a.style.cssText=d,a.classList.remove(Q))},g=$e((function(){return a?[{element:a,injectionType:xt.after}]:[]}),[a]);return u.isPreorder&&i?f(Tn,{getParentInfos:g},f(Kt,{link:$,style:{marginBottom:10}})):null};function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kn.apply(this,arguments)}var Qn=function(){return Qn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qn.apply(this,arguments)},er=function(e){var t=e.style,n=e.styleMode,r=e.text,o=Vn(),i=o.variant,c=o.addToCartButton;if(We((function(){if(c)try{i.isPreorder?c.style.cssText+="display: none !important;":c.style.cssText=c.style.cssText.replace("display: none !important;","")}catch(e){V.warn("unable to hide buy it now button: ".concat(e))}}),[i,c]),!i.isPreorder)return null;var u=$e((function(){return c?[{element:c,injectionType:xt.after}]:[]}),[c]);return f(Tn,{getParentInfos:u},f(tr,{style:t,styleMode:n,text:r}))},tr=function(e){var t=e.style,n=e.styleMode,r=e.text,o=Vn().addToCartButton,i=Ve(!1),c=i[0],u=i[1],a=Ge(null),l="".concat(o.className," ").concat(Q),s=Ge(l);We((function(){var e=new MutationObserver((function(){Yn(o)&&a.current.value!==r&&(a.current.value=r),a.current.className!==s.current&&(a.current.className=s.current)}));return e.observe(a.current,{childList:!0,attributes:!0,subtree:!0}),function(){return e.disconnect()}}),[]);var d=Qn({ref:a,id:o.id,className:s.current,disabled:c,style:Jt(t,n)+Yt,onClick:function(){o.click(),s.current="".concat(l," hengam-preorder-button-loading"),u(!0),setTimeout((function(){s.current=l,u(!1)}),1e3)}},(o instanceof HTMLButtonElement||Yn(o))&&o.type&&{type:o.type});if(Yn(o))return f("input",Kn({},d,{value:r}));var p=function(e){return e instanceof HTMLLinkElement}(o)?"a":"button";return f(h,null,f(p,d,c&&f("div",{className:"hengam-preorder-button-spinner"}),!c&&f("div",null,r)),f(Kt,{link:$,style:{marginBottom:10}}))},nr=function(){var e=Ee.preOrder.product_page.ui_contents.btn_text,t=Ee.preOrder.product_page.ui_styles.button.custom_styles,n=Ee.preOrder.product_page.ui_styles.style_mode;return Ee.preOrder.product_page.ui_styles.replace_with_add_to_cart_button?f(Xn,{style:t,styleMode:n,text:e,hasBranding:!0}):f(er,{style:t,styleMode:n,text:e})};function rr(e){var t=Ve(null),n=t[0],r=t[1],o=Ge(null),i=Ge(null);return We((function(){return i.current=e(),r(i.current),o.current=new MutationObserver((function(){i.current&&!document.body.contains(i.current)&&(i.current=e(),r(i.current))})),o.current.observe(document.body,{childList:!0,subtree:!0}),function(){o.current&&o.current.disconnect()}}),[e]),n}var or=function(e){var t=e.isFirstRenderedWidget,n=void 0!==t&&t,r=e.product,o=e.getAddToCartButton,i=e.scope,c=void 0===i?document.body:i,u=Ft(r,c);if(!u)return null;Lt("preorder",u.isPreorder);var a=rr(o);return f(Fn.Provider,{value:{variant:u,scope:c,addToCartButton:a}},n&&f(zn,null),f(nr,null),f(Jn,null),n&&f($n,null))},ir=function(e){var t=e.product,n=e.scope,r=e.getAddToCartButton,o=Ee.preOrder.collection_page.enable_variant_listener_on_cards,i=Ft(t,n,o);if(!i)return null;var c=rr(r);return f(Fn.Provider,{value:{variant:i,scope:n,addToCartButton:c}},f(Xn,{style:Ee.preOrder.collection_page.ui_styles.button.custom_styles,styleMode:Ee.preOrder.collection_page.ui_styles.style_mode,text:Ee.preOrder.collection_page.ui_contents.btn_text}),f($n,null))};function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}var ur,ar,lr=function(){return lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lr.apply(this,arguments)};!function(e){e.JSON="json",e.FORM_DATA="formData",e.URL_PARAMS="url"}(ur||(ur={})),function(e){e.FLAT="flat",e.ITEMS_OBJECT="itemsObject",e.ITEMS_LIST="itemsList"}(ar||(ar={}));var sr,dr=function(){function e(){}var t;return e.objectToUrlParams=function(e){var t=new URLSearchParams;return function e(n,r){void 0===r&&(r="");for(var o=0,i=Object.entries(n);o<i.length;o++){var c=i[o],u=c[0],a=c[1],l=r?"".concat(r,"[").concat(u,"]"):u;null!==a&&"object"===cr(a)?e(a,l):t.append(l,a)}}(e),t.toString()},t=e,e.parse=function(e){return"string"==typeof e?t.parseStringBody(e):e instanceof FormData?lr(lr({},t.parseObjectBody(e)),{bodyType:ur.FORM_DATA}):{parsedBody:{},bodyType:ur.JSON,contentType:ar.FLAT}},e.parseStringBody=function(e){var n;try{var r=JSON.parse(e);return(null===(n=null==r?void 0:r.items)||void 0===n?void 0:n[0])?{parsedBody:r.items[0],bodyType:ur.JSON,contentType:ar.ITEMS_LIST}:(null==r?void 0:r.items)?{parsedBody:r.items,bodyType:ur.JSON,contentType:ar.ITEMS_OBJECT}:{parsedBody:r,bodyType:ur.JSON,contentType:ar.FLAT}}catch(n){return lr(lr({},t.parseObjectBody(new URLSearchParams(e))),{bodyType:ur.URL_PARAMS})}},e.parseObjectBody=function(e){var t,n={};return e.forEach((function(e,r){void 0===t&&(t=r.includes("items[0]")?ar.ITEMS_LIST:r.includes("items")?ar.ITEMS_OBJECT:ar.FLAT);var o=r.match(/items(?:\[0\])?\[['"]?(.*?)['"]?\]/),i=o?o[1]:r;n[i]=e})),{parsedBody:n,contentType:t}},e.convertToType=function(e,n,r){var o=r===ar.FLAT?e:r===ar.ITEMS_OBJECT?{items:e}:{items:[e]};switch(n){case ur.JSON:return JSON.stringify(o);case ur.FORM_DATA:return t.convertObjectToFormData(o);case ur.URL_PARAMS:return t.objectToUrlParams(o)}},e.convertObjectToFormData=function(e,n,r){void 0===r&&(r="");var o=n||new FormData;for(var i in e)if(e.hasOwnProperty(i)){var c=r?"".concat(r,"[").concat(i,"]"):i;"object"===cr(e[i])?o=t.convertObjectToFormData(e[i],o,c):o.append(c,e[i])}return o},e}(),pr=function(e){try{return(0).toLocaleString("Us-en",{currency:e,style:"currency",currencyDisplay:"symbol"}).replace(/[0-9]|[A-Za-z]|\.|,|;/g,"").trim()||e}catch(t){return V.warn("Unable to get currency symbol."),e}},fr=function(){var e,t,n=null===(t=null===(e=se())||void 0===e?void 0:e.currency)||void 0===t?void 0:t.active;return n?{code:n,symbol:pr(n)}:{code:"USD",symbol:"$"}}(),_r=function(e){var t=Ee.preOrder.product_page.ui_styles.price.format;return t?t.replace("{price}",e).replace("{symbol}",fr.symbol).replace("{code}",fr.code):"".concat(fr.symbol).concat(e)};!function(e){e.ALL="ALL",e.LOW_INVENTORY="LOW_INVENTORY"}(sr||(sr={}));var hr=function(){function e(e){var t,n,r,o,i;this.id=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:0,this.title=null!==(n=null==e?void 0:e.title)&&void 0!==n?n:"",this.available=null!==(r=null==e?void 0:e.available)&&void 0!==r&&r,this.price=(null==e?void 0:e.price)?e.price/100:0,this.compare_at_price=(null==e?void 0:e.compare_at_price)?e.compare_at_price/100:0,this.inventory_management=null!==(o=null==e?void 0:e.inventory_management)&&void 0!==o?o:"",this.quantity=null!==(i=null==e?void 0:e.quantity)&&void 0!==i?i:0}return Object.defineProperty(e.prototype,"isUnavailable",{get:function(){return!Ee.restock.excludedVariants.includes(this.id)&&(!this.available||Ee.restock.pre_order_products_enabled&&this.isPreorder)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPreorder",{get:function(){var e,t;return(null===(t=null===(e=Ee.preOrder)||void 0===e?void 0:e.variant_ids)||void 0===t?void 0:t.includes(this.id))&&"shopify"===this.inventory_management},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalPrice",{get:function(){var e,t,n,r;if(Ee.config.isB2BCustomer)return this.price;var o=null===(e=Ee.preOrder.selling_plan)||void 0===e?void 0:e.price_adjustments;if(!o.has_discount)return this.price;switch(null==o?void 0:o.value_type){case"percentage":return this.price*(1-o.value/100);case"fixed_amount":return this.price-o.value*(null!==(r=null===(n=null===(t=se())||void 0===t?void 0:t.currency)||void 0===n?void 0:n.rate)&&void 0!==r?r:1);default:return this.price}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"preDiscountPrice",{get:function(){return Math.max(this.compare_at_price,this.price)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formattedPreDiscountPrice",{get:function(){return _r(this.preDiscountPrice.toFixed(2))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formattedFinalPrice",{get:function(){return _r(this.finalPrice.toFixed(2))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasDiscount",{get:function(){return this.finalPrice!==this.preDiscountPrice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLowStock",{get:function(){var e=Ee.lowStock.settings,t=e.show_mode,n=e.inventory_threshold,r=Ee.lowStock.excludedVariants.includes(this.id),o="shopify"===this.inventory_management&&this.quantity>0,i=t===sr.ALL||this.quantity<=n;return!r&&o&&i},enumerable:!1,configurable:!0}),e}(),vr=function(){function e(e){var t,n,r,o;this.id=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:0,this.handle=null!==(n=null==e?void 0:e.handle)&&void 0!==n?n:"",this.variants=null!==(o=null===(r=null==e?void 0:e.variants)||void 0===r?void 0:r.map((function(e){return new hr(e)})))&&void 0!==o?o:[]}return e.prototype.findVariantById=function(e){return this.variants.find((function(t){return t.id===e}))},Object.defineProperty(e.prototype,"unavailableVariants",{get:function(){var e;return null===(e=this.variants)||void 0===e?void 0:e.filter((function(e){return e.isUnavailable}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasMultipleVariants",{get:function(){var e;return(null===(e=this.variants)||void 0===e?void 0:e.length)>1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasUnavailableVariants",{get:function(){return!!this.unavailableVariants.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areAllUnavailableVariantsPreorder",{get:function(){return this.hasUnavailableVariants&&this.unavailableVariants.every((function(e){return e.isPreorder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needUnselectableVariantsFeature",{get:function(){return this.hasMultipleVariants&&this.hasUnavailableVariants&&!!Ee.restock.not_selectable_variants_enabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasAnyPreorderVariants",{get:function(){return this.variants.some((function(e){return e.isPreorder}))},enumerable:!1,configurable:!0}),e}(),yr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}a((r=r.apply(e,t||[])).next())}))},mr=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){c.label=u[1];break}if(6===u[0]&&c.label<o[1]){c.label=o[1],o=u;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(u);break}o[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},gr=function(){function e(){}return e.loadProducts=function(e){return yr(this,void 0,void 0,(function(){var t,n=this;return mr(this,(function(r){switch(r.label){case 0:return t=e.map((function(e){return n.getProduct(decodeURI(e))})),[4,Promise.all(t)];case 1:return[2,r.sent().filter((function(e){return!!e}))]}}))}))},e.getProduct=function(e){return yr(this,void 0,void 0,(function(){return mr(this,(function(t){return this.loadedProducts.has(e)?[2,this.loadedProducts.get(e)]:(this.fetchPromises.has(e)||this.fetchPromises.set(e,this.fetchAndCacheProduct(e)),[2,this.fetchPromises.get(e)])}))}))},e.fetchAndCacheProduct=function(e){var t;return yr(this,void 0,void 0,(function(){var n,r,o;return mr(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,9,10]),[4,W().get("".concat(pe.getBaseURL(),"/products/").concat(e,".js"))];case 1:return r=i.sent(),[2,this.cacheProduct(r.data)];case 2:if(n=i.sent(),404!==(null===(t=null==n?void 0:n.response)||void 0===t?void 0:t.status))return[3,7];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,W().get("".concat(pe.getBaseURL(),"/").concat(he(),"/products/").concat(e,".js"))];case 4:return r=i.sent(),[2,this.cacheProduct(r.data)];case 5:return o=i.sent(),V.warn("Failed to fetch product ".concat(e,": ").concat(o)),[2,null];case 6:return[3,8];case 7:return V.warn("Failed to fetch product ".concat(e,": ").concat(n)),[2,null];case 8:return[3,10];case 9:return this.fetchPromises.delete(e),[7];case 10:return[2]}}))}))},e.cacheProduct=function(e){var t=new vr(e);return t.handle?(this.loadedProducts.set(decodeURI(t.handle),t),t):null},e.findProductByVariantId=function(e){return Array.from(this.loadedProducts.values()).find((function(t){return t.variants.some((function(t){return t.id===e}))}))},e.loadedProducts=new Map,e.fetchPromises=new Map,e}();const br=gr;var wr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Cr=function(){function e(e){var t=this;this.startHttpRequestProxy=function(){var e=t;t.httpRequestFactory.replacer((function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{var i=(t=e.httpRequestFactory).getUrl.apply(t,r);e.checkCallingApiIsAddToCart(i)&&e.changeBodyForPreorders(r)}catch(e){V.error(e)}return(n=e.httpRequestFactory.originalHttpRequestMethod).call.apply(n,wr([this],r,!1))}))},this.checkCallingApiIsAddToCart=function(e){return e.includes("cart")&&e.includes("add")},this.httpRequestFactory=e}return e.prototype.changeBodyForPreorders=function(e){var t,n,r,o,i=(t=this.httpRequestFactory).getBody.apply(t,e);if(i){var c=dr.parse(i),u=c.parsedBody,a=c.bodyType,l=c.contentType,s=null==u?void 0:u.id;if(s)if(Ee.preOrder.variant_ids.includes(Number(s)))if(Ee.config.isB2BCustomer){if(Ee.preOrder.excludedProductsInB2B.includes(null===(n=br.findProductByVariantId(s))||void 0===n?void 0:n.id))return;if(Object.values(u).includes("NM-preorder"))return;var d=dr.convertToType(this.addNotifyMeTagToBody(u),a,l);this.httpRequestFactory.setManipulatedBodyToRequest(e,d)}else{if((null==u?void 0:u.selling_plan)&&(null===(r=Ee.preOrder.selling_plan)||void 0===r?void 0:r.id)&&(null==u?void 0:u.selling_plan)===(null===(o=Ee.preOrder.selling_plan)||void 0===o?void 0:o.id))return;d=dr.convertToType(this.addNotifyMeTagAndSellingPlanToBody(u),a,l);this.httpRequestFactory.setManipulatedBodyToRequest(e,d)}}},e.prototype.addNotifyMeTagAndSellingPlanToBody=function(e){var t;return(null==e?void 0:e.id)&&(e.id=Number(e.id)),(null==e?void 0:e.quantity)&&(e.quantity=Number(e.quantity)),e["properties[Type]"]="NM-preorder",!(null==e?void 0:e.selling_plan)&&(null===(t=Ee.preOrder.selling_plan)||void 0===t?void 0:t.id)&&(e.selling_plan=Ee.preOrder.selling_plan.id),e},e.prototype.addNotifyMeTagToBody=function(e){return(null==e?void 0:e.id)&&(e.id=Number(e.id)),(null==e?void 0:e.quantity)&&(e.quantity=Number(e.quantity)),e["properties[Type]"]="NM-preorder",e},e}();function Pr(e){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(e)}var Sr=function(){function e(){this.originalHttpRequestMethod=window.fetch.bind(window)}return e.prototype.replacer=function(e){window.fetch=e},e.prototype.getBody=function(e,t){var n=null;return"object"!==Pr(e)||e instanceof URL||!(null==e?void 0:e.body)||(n=e.body),(null==t?void 0:t.body)&&(n=null==t?void 0:t.body),n},e.prototype.setManipulatedBodyToRequest=function(e,t){var n=e[0],r=e[1];"object"!==Pr(n)||n instanceof URL||!(null==n?void 0:n.body)||(n.body=t),r&&(null==r?void 0:r.body)&&(r.body=t)},e.prototype.getUrl=function(e){return"string"==typeof e?e:e instanceof URL?e.toString():e.url},e}(),Or=function(){function e(){var e=this;this.setUrl=function(t){e.requestUrl=t}}return e.prototype.replacer=function(e){var t=XMLHttpRequest.prototype.send;this.originalHttpRequestMethod=t,XMLHttpRequest.prototype.send=function(){e.apply(this,arguments)};var n=XMLHttpRequest.prototype.open,r=this.setUrl;XMLHttpRequest.prototype.open=function(e,t){r(t),n.apply(this,arguments)}},e.prototype.getBody=function(e){return e},e.prototype.getUrl=function(){return"string"==typeof this.requestUrl?this.requestUrl:this.requestUrl instanceof URL?this.requestUrl.toString():void 0},e.prototype.setManipulatedBodyToRequest=function(e,t){e[0]=t},e}(),kr=function e(t,n){return t.parentElement?t.parentElement.querySelectorAll('a[href*="products/'.concat(n,'"]')).length<t.parentElement.querySelectorAll('a[href*="products/"]').length?t:e(t.parentElement,n):0===t.querySelectorAll('a[href*="products/'.concat(n,'"]')).length?null:t},Er=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Nr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSetupDone=!1,t}return Er(t,e),Object.defineProperty(t.prototype,"isServiceEnabled",{get:function(){return Ee.preOrder.isServiceActive?Ee.preOrder.limit_reached?(V.warn("PREORDER LIMIT REACHED"),!1):!this.isCustomerCurrentLocationExcluded||(V.warn("PREORDER SERVICE IS DISABLED BECAUSE CUSTOMER CURRENT LOCATION IS EXCLUDED"),!1):(V.warn("PREORDER SERVICE IS DEACTIVATED"),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollectionPageServiceEnabled",{get:function(){return Ee.preOrder.collection_page.ui_styles.display_mode!==ge.NOT_DISPLAYED||(V.warn("PREORDER SERVICE IS DISABLED ON THIS PAGE"),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProductPageServiceEnabled",{get:function(){return Ee.preOrder.product_page.ui_styles.display_mode!==ge.NOT_DISPLAYED||(V.warn("PREORDER SERVICE IS DISABLED ON PRODUCT PAGE"),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCustomerCurrentLocationExcluded",{get:function(){return Ee.config.isB2BCustomer&&Ee.config.customerCurrentLocationId&&Ee.preOrder.excludedLocationsInB2B.includes(Ee.config.customerCurrentLocationId)},enumerable:!1,configurable:!0}),t.prototype.setup=function(){Ee.preOrder.overrideCartRequests&&!this.isSetupDone&&(new Cr(new Sr).startHttpRequestProxy(),new Cr(new Or).startHttpRequestProxy(),this.isSetupDone=!0)},t.prototype.isServiceApplicableOnProduct=function(e){return(!Ee.config.isB2BCustomer||!Ee.preOrder.excludedProductsInB2B.includes(e.id))&&e.hasAnyPreorderVariants},t.prototype.getSingleProductWidget=function(e,t,n){return!n&&Ee.preOrder.product_page.elements_selectors.inject_to_all_wrappers?this.getMultipleProductWidgetMarkup(e,t):this.getSingleProductWidgetMarkup(e,t,n)},t.prototype.getSingleProductWidgetMarkup=function(e,t,n){var r=n?Ee.preOrder.quickViewSectionAddToCartButtonSelector:Ee.preOrder.product_page.elements_selectors.button;return f(or,{getAddToCartButton:function(){return At.getOriginalAddToCartButton(r,t)},product:e,scope:t,isFirstRenderedWidget:!0})},t.prototype.getMultipleProductWidgetMarkup=function(e,t){var n,r,o,i;return f(h,null,Tr(Tr([],null!==(r=null===(n=Ee.preOrder.product_page.elements_selectors.button.css_selector_by_support)||void 0===n?void 0:n.split(","))&&void 0!==r?r:[],!0),null!==(i=null===(o=Ee.preOrder.product_page.elements_selectors.button.css_selector)||void 0===o?void 0:o.split(","))&&void 0!==i?i:[],!0).map((function(n,r){var o=function(){return At.getAddToCartButtonBySelectors([n],t)};return o()?f(or,{getAddToCartButton:o,product:e,scope:t,isFirstRenderedWidget:0===r}):null})))},t.prototype.getCollectionPageWidget=function(e){if(!(e.variants.length>1)||Ee.preOrder.collection_page.enable_variant_listener_on_cards){var t=function(e){var t,n=encodeURI(e),r=null!==(t=Ee.restock.collectionPageConfig.product_card_selector)&&void 0!==t?t:"";return Array.from(document.querySelectorAll("".concat(r,' a[href*="').concat(n,'"]'))).filter((function(e){return pe.getLastSegmentOfUrl(null==e?void 0:e.href)===n})).map((function(e){return kr(e,n)})).filter((function(e,t,n){return null!==e&&n.indexOf(e)===t}))}(e.handle);if(0!==t.length)return V.info("RENDERING PREORDER BUTTON ON PRODUCT CARDS OF "+e.handle),f(h,null,t.map((function(t,n){var r=function(){return At.getOriginalAddToCartButton(Ee.preOrder.collection_page.elements_selectors.button,t)};if(r())return f(ir,{product:e,scope:t,getAddToCartButton:r,key:e.handle+n})})));V.warn("PRODUCT CARD NOT FOUND:"+e.handle)}},t}(Te);const Ar=Nr;var xr=function(e){var t=e.color;return f("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:"flex-shrink: 0; display: block !important;height: 20px !important; width: 20px !important; max-width: 20px !important;"},f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.0116 10.0002C11.0116 10.4142 10.6756 10.7502 10.2616 10.7502C9.84755 10.7502 9.51155 10.4142 9.51155 10.0002V6.4002C9.51155 5.9862 9.84755 5.6502 10.2616 5.6502C10.6756 5.6502 11.0116 5.9862 11.0116 6.4002V10.0002ZM10.2616 14.1852C9.84755 14.1852 9.51155 13.8802 9.51155 13.4662V13.4032C9.51155 12.9892 9.84755 12.6532 10.2616 12.6532C10.6756 12.6532 11.0116 12.9892 11.0116 13.4032C11.0116 13.8172 10.6756 14.1852 10.2616 14.1852ZM18.3796 6.8352L13.4216 1.8772C11.5286 -0.0158027 8.92855 0.0421971 6.94755 2.0202L2.27555 6.6912C0.298551 8.6712 0.240551 11.2722 2.13255 13.1662L7.09055 18.1242C8.01255 19.0462 9.10255 19.5052 10.2066 19.5052C11.3706 19.5052 12.5496 18.9952 13.5646 17.9802L18.2366 13.3092C19.1876 12.3572 19.7125 11.2442 19.7535 10.0902C19.7955 8.9012 19.3206 7.7752 18.3796 6.8352Z",fill:"#".concat(t)}))},Lr=function(e){var t,n,r,o=e.variant;return f("div",{className:"hengam-low-stock-description lowStockDescriptionStyle"},(null===(t=Ee.lowStock.product_page.widget.custom_styles)||void 0===t?void 0:t.show_icon)&&f(xr,{color:(null===(n=Ee.lowStock.product_page.widget.custom_styles)||void 0===n?void 0:n.icon_color)||"EE442E"}),f("p",{style:"color: #".concat((null===(r=Ee.lowStock.product_page.widget.custom_styles)||void 0===r?void 0:r.text_color)||"EE442E"," !important")},Ee.lowStock.product_page.ui_contents.description.replace("{{remaining_quantity}}",o.quantity.toString())))};var Rr=function(e){var t=e.product,n=e.getAddToCartButton,r=e.scope,o=void 0===r?document.body:r,i=Ft(t,o);if(!i||!i.isLowStock)return null;var c=$e((function(){return function(e,t){var n,r=null!==(n=Ee.lowStock.product_page.widget.wrapper_by_support)&&void 0!==n?n:[],o=[];if(r.forEach((function(t){var n,r=null===(n=At.querySelectorAll(t,e))||void 0===n?void 0:n[0];r&&o.push({element:r,injectionType:xt.start})})),o.length>0)return o;var i=t();return i?[{element:i,injectionType:xt.after}]:[]}(o,n)}),[o,n]);return f(Tn,{getParentInfos:c},f(Lr,{variant:i}))},Br=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ir=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Br(t,e),Object.defineProperty(t.prototype,"isServiceEnabled",{get:function(){return!!Ee.lowStock.isServiceActive||(V.warn("LOW STOCK SERVICE IS DEACTIVATED"),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollectionPageServiceEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProductPageServiceEnabled",{get:function(){return!!Ee.lowStock.product_page.is_elements_shown||(V.warn("LOW STOCK SERVICE IS DISABLED ON PRODUCT PAGE"),!1)},enumerable:!1,configurable:!0}),t.prototype.isServiceApplicableOnProduct=function(e){return e.variants.some((function(e){return e.isLowStock}))},t.prototype.getSingleProductWidget=function(e,t,n){var r=n?Ee.preOrder.quickViewSectionAddToCartButtonSelector:Ee.preOrder.product_page.elements_selectors.button;return f(Rr,{getAddToCartButton:function(){return At.getAddToCartButton(r,t)},product:e,scope:t})},t.prototype.getCollectionPageWidget=function(e){return f(h,null)},t}(Te);var jr=function(){function e(){}return e.prototype.setOnProductFoundListener=function(e){this.listener=e,this.start()},e.prototype.notifyListener=function(e){var t=e.filter((function(e){return!!(null==e?void 0:e.handle)}));t.length>0&&this.listener(t)},e}(),Ur=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dr=function(e){function t(){return e.call(this)||this}return Ur(t,e),t.prototype.start=function(){this.doseProductExistInLiquid()?this.getProductFromLiquid():pe.isProductPage()&&this.getProductFromUrl()},t.prototype.doseProductExistInLiquid=function(){var e;return"product"in Ee.config&&!!(null===(e=Ee.config.product)||void 0===e?void 0:e.handle)},t.prototype.getProductFromLiquid=function(){var e=br.cacheProduct(Ee.config.product);this.notifyListener([e])},t.prototype.getProductFromUrl=function(){var e=this,t=pe.getLastSegmentOfUrl(window.location.href);br.loadProducts([t]).then((function(t){return e.notifyListener(t)}))},t}(jr),qr=new Dr,Mr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Vr=function(e){function t(){var t=e.call(this)||this;return t.prevProductHandles=[],t}return Mr(t,e),t.prototype.start=function(){var e,t,n=this;(pe.isCollectionPage()||pe.isHomePage())&&(t=500,(e=function(){return n.getCollectionPageProducts()})(),setInterval(e,t))},t.prototype.getCollectionPageProducts=function(){var e=this,t=this.findNewProductHandlesInCurrentView();0!==t.length&&br.loadProducts(t).then((function(t){e.notifyListener(t)}))},t.prototype.findNewProductHandlesInCurrentView=function(){var e=this,n=t.getProductHandlesInCurrentView();if(JSON.stringify(n)===JSON.stringify(this.prevProductHandles))return[];var r=n.filter((function(t){return!e.prevProductHandles.includes(t)}));return this.prevProductHandles=n,r},t.getProductHandlesInCurrentView=function(){var e,t=null!==(e=Ee.restock.collectionPageConfig.product_card_selector)&&void 0!==e?e:"",n=Array.from(document.querySelectorAll("".concat(t,' a[href*="/products/"]'))),r=[".jpg",".jpeg",".png",".gif",".svg",".webp"];return n.reduce((function(e,t){var n=pe.getLastSegmentOfUrl(t.href);return!n||e.includes(n)||r.some((function(e){return n.includes(e)}))?e:Fr(Fr([],e,!0),[n],!1)}),[])},t}(jr),Hr=new Vr;function Wr(e){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wr(e)}var Gr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function zr(e){var t;return null!==(t=function(e){if(null==e?void 0:e.dataset)return"productUrl"in(null==e?void 0:e.dataset)?pe.getLastSegmentOfUrl(e.dataset.productUrl):"productHandle"in(null==e?void 0:e.dataset)?e.dataset.productHandle:"handle"in(null==e?void 0:e.dataset)?e.dataset.handle:void 0}(e))&&void 0!==t?t:function(e){for(;e.parentElement;){e=e.parentElement;var t=Array.from(e.querySelectorAll('a[href*="/products/"]'));if(t.length>0)return pe.getLastSegmentOfUrl(t[0].href)}}(e)}function $r(e){for(var t,n=Ee.preOrder.collection_page.elements_selectors.quick_view_section,r=n.css_selector_by_support,o=n.css_selector,i=n.css_selector_from_theme,c=function(n){var r="".concat(n,' form[action*="/cart/add"]'),o=['input[name*="product-id"][value*="'.concat(e.id,'"]')];e.variants.forEach((function(e){ie.forEach((function(t){o.push('input[name="'.concat(t,'"][value*="').concat(e.id,'"]')),o.push('select[name="'.concat(t,'"] option[value*="').concat(e.id,'"]')),o.push('select[name="'.concat(t,'"][value*="').concat(e.id,'"]'))}))}));var i=null===(t=At.getElementByElementSelector(o.map((function(e){return"".concat(r," ").concat(e)}))))||void 0===t?void 0:t.item(0);if(i)return{value:i.closest(n)}},u=0,a=Gr([r,o,i],oe,!0).filter((function(e){return!!e}));u<a.length;u++){var l=c(a[u]);if("object"===Wr(l))return l.value}return null}function Jr(e){return null!==$r(e)}var Yr,Zr,Xr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kr=new(function(e){function t(){return e.call(this)||this}return Xr(t,e),t.prototype.start=function(){(pe.isHomePage()||pe.isCollectionPage())&&this.addClickEventListenerToQuickViewButtons()},t.prototype.addClickEventListenerToQuickViewButtons=function(){var e=this,t=function(){var e=Gr([Ee.preOrder.collection_page.elements_selectors.quick_view_button.css_selector_by_support,Ee.preOrder.collection_page.elements_selectors.quick_view_button.css_selector,Ee.preOrder.collection_page.elements_selectors.quick_view_button.css_selector_from_theme],re,!0),t=At.getElementByElementSelector(e);return t?Array.from(t):null}();t&&t.forEach((function(t){var n=zr(t);n&&(V.debug("Quick view button click listener added for product: "+n),t.addEventListener("click",(function(){br.loadProducts([n]).then((function(t){var n;n=setInterval((function(){Jr(t[0])&&(V.debug("Quick view modal is open for product: "+t[0].handle),clearInterval(n),e.notifyListener(t))}),200),setTimeout((function(){return clearInterval(n)}),3e3)}))})))}))},t}(jr)),Qr=function(e){var t=e.product,n=e.children,r=function(e){var t=Ve(!0),n=t[0],r=t[1];return We((function(){var t=setInterval((function(){Jr(e)||(r(!1),V.debug("Quick view section closed for product: "+e.handle),clearInterval(t))}),500)}),[]),n}(t);return r?f(h,null,vt(f("style",null,Ee.config.product_page_raw_css),document.head),n):null},eo=function(e,t){return e.filter((function(e){return e.isServiceApplicableOnProduct(t)}))},to=function(e){var t=e.filter((function(e){return e.isServiceEnabled}));0!==t.length&&(pe.isProductPage()&&function(e){var t=e.filter((function(e){return e.isProductPageServiceEnabled}));0!==t.length&&(t.forEach((function(e){return e.setup()})),qr.setOnProductFoundListener((function(e){var n=eo(t,e[0]);0!==n.length&&(At.injectProductPageStyles(),At.injectElement(f(h,null,n.map((function(t){return t.getSingleProductWidget(e[0],document.body,!1)})))))})))}(t),(pe.isCollectionPage()||pe.isHomePage())&&function(e){var t=e.filter((function(e){return e.isCollectionPageServiceEnabled}));0!==t.length&&(t.forEach((function(e){return e.setup()})),Hr.setOnProductFoundListener((function(e){V.info("FOUND ".concat(e.length," NEW PRODUCTS ON PAGE\n ").concat(e.map((function(e){return e.handle})).join("\n"))),e.forEach((function(e){var n=eo(t,e);0!==n.length&&At.injectElement(f(h,null,n.map((function(t){return t.getCollectionPageWidget(e)}))))}))})),Kr.setOnProductFoundListener((function(e){var n=eo(t,e[0]);if(0!==n.length){var r=$r(e[0]);r&&At.injectElement(f(Qr,{product:e[0]},f(h,null,n.map((function(t){return t.getSingleProductWidget(e[0],r,!0)})))))}})))}(t))};me.get("hengam-logs")&&(V.enableLogs(),V.info("starting app...\nlatest release: ".concat("Thu, 02 Jan 2025 05:27:59 GMT")),V.info("current page: ".concat(ve()))),Yr="restockAlertsStatus",(Zr="loaded"===document.documentElement.dataset[Yr])?V.info("sdk loaded once before"):document.documentElement.dataset[Yr]="loaded",Zr||Ee.initialize().then((function(){if(!Ee.config.app_enabled)return V.error("The app has been deactivated by shop owner");At.injectStyles(),At.injectDeveloperModeVariantInput(),to([new Mn,new Ar,new Ir])}))})(),window.HengamRestock=r})();